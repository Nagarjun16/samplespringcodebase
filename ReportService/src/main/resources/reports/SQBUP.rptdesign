<?xml version="1.0" encoding="UTF-8"?>
<report xmlns="http://www.eclipse.org/birt/2005/design" version="3.2.23" id="1">
    <property name="createdBy">Eclipse BIRT Designer Version 4.6.0.v201606072122</property>
    <list-property name="propertyBindings">
        <structure>
            <property name="name">queryText</property>
            <property name="id">8</property>
        </structure>
        <structure>
            <property name="name">queryTimeOut</property>
            <property name="id">8</property>
        </structure>
        <structure>
            <property name="name">rowFetchSize</property>
            <property name="id">8</property>
        </structure>
    </list-property>
    <property name="units">in</property>
    <property name="iconFile">/templates/blank_report.gif</property>
    <property name="bidiLayoutOrientation">ltr</property>
    <property name="imageDPI">96</property>
    <parameters>
        <scalar-parameter name="Month" id="66">
            <property name="valueType">static</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="Year" id="67">
            <property name="valueType">static</property>
            <property name="dataType">integer</property>
            <property name="distinct">true</property>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="tenantAirportCode" id="69">
            <property name="valueType">static</property>
            <property name="isRequired">true</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant"></value>
            </simple-property-list>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="concealValue">false</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="Carrier" id="70">
            <property name="valueType">static</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
    </parameters>
    <data-sources>
        <oda-data-source extensionID="org.eclipse.birt.report.data.oda.jdbc" name="Data Source" id="7">
            <list-property name="privateDriverProperties">
                <ex-property>
                    <name>metadataBidiFormatStr</name>
                    <value>ILYNN</value>
                </ex-property>
                <ex-property>
                    <name>disabledMetadataBidiFormatStr</name>
                </ex-property>
                <ex-property>
                    <name>contentBidiFormatStr</name>
                    <value>ILYNN</value>
                </ex-property>
                <ex-property>
                    <name>disabledContentBidiFormatStr</name>
                </ex-property>
            </list-property>
            <property name="odaDriverClass">com.microsoft.sqlserver.jdbc.SQLServerDriver</property>
            <property name="odaURL">jdbc:sqlserver://cosysuatsqldb1server.database.windows.net;databaseName=NGCDEV</property>
            <property name="odaUser">SATsDevUser</property>
            <encrypted-property name="odaPassword" encryptionID="base64">U0B0cyMxNDIx</encrypted-property>
        </oda-data-source>
    </data-sources>
    <data-sets>
        <oda-data-set extensionID="org.eclipse.birt.report.data.oda.jdbc.JdbcSelectDataSet" name="Data Set" id="8">
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">DateATA</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">DateATA</text-property>
                    <text-property name="heading">DateATA</text-property>
                </structure>
                <structure>
                    <property name="columnName">FlightKey</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">FlightKey</text-property>
                    <text-property name="heading">FlightKey</text-property>
                </structure>
                <structure>
                    <property name="columnName">Carrier</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">Carrier</text-property>
                    <text-property name="heading">Carrier</text-property>
                </structure>
                <structure>
                    <property name="columnName">FlightNumber</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">FlightNumber</text-property>
                    <text-property name="heading">FlightNumber</text-property>
                </structure>
                <structure>
                    <property name="columnName">ShipmentNumber</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">ShipmentNumber</text-property>
                    <text-property name="heading">ShipmentNumber</text-property>
                </structure>
                <structure>
                    <property name="columnName">TotalWeight</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">TotalWeight</text-property>
                    <text-property name="heading">TotalWeight</text-property>
                </structure>
                <structure>
                    <property name="columnName">generalLocal</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">generalLocal</text-property>
                    <text-property name="heading">generalLocal</text-property>
                </structure>
                <structure>
                    <property name="columnName">generalTranshipment</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">generalTranshipment</text-property>
                    <text-property name="heading">generalTranshipment</text-property>
                </structure>
                <structure>
                    <property name="columnName">PHCLocal</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">PHCLocal</text-property>
                    <text-property name="heading">PHCLocal</text-property>
                </structure>
                <structure>
                    <property name="columnName">PHCTranshipment</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">PHCTranshipment</text-property>
                    <text-property name="heading">PHCTranshipment</text-property>
                </structure>
                <structure>
                    <property name="columnName">FFM</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">FFM</text-property>
                    <text-property name="heading">FFM</text-property>
                </structure>
            </list-property>
            <list-property name="parameters">
                <structure>
                    <property name="name">param_1</property>
                    <property name="paramName">tenantAirportCode</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">1</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_2</property>
                    <property name="paramName">Month</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">2</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_3</property>
                    <property name="paramName">Year</property>
                    <property name="nativeName"></property>
                    <property name="dataType">integer</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">3</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_4</property>
                    <property name="paramName">tenantAirportCode</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">4</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_5</property>
                    <property name="paramName">tenantAirportCode</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">5</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_6</property>
                    <property name="paramName">tenantAirportCode</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">6</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">DateATA</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">FlightKey</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">Carrier</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">FlightNumber</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">ShipmentNumber</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">6</property>
                        <property name="name">TotalWeight</property>
                        <property name="dataType">decimal</property>
                    </structure>
                    <structure>
                        <property name="position">7</property>
                        <property name="name">generalLocal</property>
                        <property name="dataType">decimal</property>
                    </structure>
                    <structure>
                        <property name="position">8</property>
                        <property name="name">generalTranshipment</property>
                        <property name="dataType">decimal</property>
                    </structure>
                    <structure>
                        <property name="position">9</property>
                        <property name="name">PHCLocal</property>
                        <property name="dataType">decimal</property>
                    </structure>
                    <structure>
                        <property name="position">10</property>
                        <property name="name">PHCTranshipment</property>
                        <property name="dataType">decimal</property>
                    </structure>
                    <structure>
                        <property name="position">11</property>
                        <property name="name">FFM</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <property name="dataSource">Data Source</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">DateATA</property>
                    <property name="nativeName">DateATA</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
                <structure>
                    <property name="position">2</property>
                    <property name="name">FlightKey</property>
                    <property name="nativeName">FlightKey</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
                <structure>
                    <property name="position">3</property>
                    <property name="name">Carrier</property>
                    <property name="nativeName">Carrier</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
                <structure>
                    <property name="position">4</property>
                    <property name="name">FlightNumber</property>
                    <property name="nativeName">FlightNumber</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
                <structure>
                    <property name="position">5</property>
                    <property name="name">ShipmentNumber</property>
                    <property name="nativeName">ShipmentNumber</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
                <structure>
                    <property name="position">6</property>
                    <property name="name">TotalWeight</property>
                    <property name="nativeName">TotalWeight</property>
                    <property name="dataType">decimal</property>
                    <property name="nativeDataType">3</property>
                </structure>
                <structure>
                    <property name="position">7</property>
                    <property name="name">generalLocal</property>
                    <property name="nativeName">generalLocal</property>
                    <property name="dataType">decimal</property>
                    <property name="nativeDataType">3</property>
                </structure>
                <structure>
                    <property name="position">8</property>
                    <property name="name">generalTranshipment</property>
                    <property name="nativeName">generalTranshipment</property>
                    <property name="dataType">decimal</property>
                    <property name="nativeDataType">3</property>
                </structure>
                <structure>
                    <property name="position">9</property>
                    <property name="name">PHCLocal</property>
                    <property name="nativeName">PHCLocal</property>
                    <property name="dataType">decimal</property>
                    <property name="nativeDataType">3</property>
                </structure>
                <structure>
                    <property name="position">10</property>
                    <property name="name">PHCTranshipment</property>
                    <property name="nativeName">PHCTranshipment</property>
                    <property name="dataType">decimal</property>
                    <property name="nativeDataType">3</property>
                </structure>
                <structure>
                    <property name="position">11</property>
                    <property name="name">FFM</property>
                    <property name="nativeName">FFM</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[WITH 
Flt AS (Select leg.Flight_ID FlightId, Flt.CarrierCode, Flt.FlightNumber, Flt.FlightKey, Leg.DateSTA, Leg.DateATA,
Flt.FlightOriginDate  InboundFlightOriginDate,flt.FlightType  InboundFlightType,leg.DateETA,
               leg.AircraftType, leg.FlightBoardPoint InboundFlightBoardPoint,Imp_FreightFlightManifestByFlight.ImpFreightFlightManifestByFlightId ,
			   case when AcTyp.AircraftBodyType='N' then 'NARROW' else 'WIDE' end InboundAircraftBodyType
         From Flt_OperativeFlight Flt
		 INNER JOIN Flt_OperativeFlight_Legs leg ON leg.Flight_ID = Flt.Flight_ID
		 LEFT JOIN Mst_AircraftType AcTyp ON leg.AircraftType= AcTyp.AircraftType
		 LEFT JOIN Imp_FreightFlightManifestByFlight 
			                 ON Imp_FreightFlightManifestByFlight.flightId=Flt.flight_id
		 WHERE Leg.FlightOffPoint = ?   AND  Flt.carriercode in ('SQ')
		  -- AND ( (Flt.carriercode in ('MU','CK') AND cast(Leg.DATESTA as date) >= '11-DEC-2018')
			 --     OR (Flt.carriercode in ('VJ','PN','RX') AND cast(Leg.DATESTA as date) >= '27-DEC-2018')
				--  OR (Flt.carriercode in ('TG','BR','FJ','LO') AND cast(Leg.DATESTA as date) >= '03-JAN-2019')
				--  OR (Flt.carriercode in ('BG','SL','OD','JT','ID','HU','GX','5J','3U') AND cast(Leg.DATESTA as date) >= '26-FEB-2019')
				--  OR (Flt.carriercode in ('CZ','CV','LX','MF','NS','OZ','QZ','Z2','ZH','FD','AK','CA','JL','HO')	AND cast (Leg.DATESTA as date) >= '19-MAR-2019')
				--  OR (Flt.carriercode in ('AI','7L','9W','PR','IX','BI','EY','ET','BS','SV','BL','HY') AND cast (Leg.DATESTA as date) >= '27-MAR-2019')
				--  OR (Flt.carriercode = '3K' AND cast (Leg.DATESTA as date) BetWeen '27-MAR-2019' And '28-MAR-2019')
				--  OR (Flt.carriercode In ('PX','VN') AND cast (Leg.DATESTA as date) BetWeen '27-MAR-2019' And '14-APR-2019')
				--  OR (Flt.carriercode = 'UA' AND cast(Leg.DATESTA as date)  >= '30-APR-2019')
				--  OR (Flt.carriercode = 'TK' AND cast(Leg.DATESTA as date)  >= '09-MAY-2019')				  
				--  OR (Flt.carriercode In ('NH','NQ') AND cast(Leg.DATESTA as date)  >= '15-MAY-2019') 
				--  OR (Flt.carriercode = 'CX' AND cast(Leg.DATESTA as date)  >= '21-MAY-2019')
				--  OR (Flt.carriercode = 'KE' AND cast(Leg.DATESTA as date)  >= '28-MAY-2019')	
				--  OR (Flt.carriercode = 'VN' AND cast(Leg.DATESTA as date)  >= '04-JUN-2019')
				--  OR (Flt.carriercode = '3K' AND cast(Leg.DATESTA as date)  >= '11-JUN-2019')
				--  OR (Flt.carriercode = 'KZ' AND cast(Leg.DATESTA as date)  >= '12-JUN-2019')	
				--  OR (Flt.carriercode = 'FX' AND cast(Leg.DATESTA as date)  >= '18-JUN-2019')	
				--  OR (Flt.carriercode = 'RU' AND cast(Leg.DATESTA as date)  >= '25-JUN-2019')
				--  OR (Flt.carriercode In ('TH','N7') AND cast(Leg.DATESTA as date)  >= '02-JUL-2019')	
				--   OR ( Flt.carriercode = 'LH' AND Cast(Leg.datesta AS DATE) >= '11-JUL-2019' ) 
				--   OR ( Flt.carriercode = '8K' AND Cast(Leg.datesta AS DATE) >= '16-JUL-2019' ) 
				--   OR ( Flt.carriercode = '3S' AND Cast(Leg.datesta AS DATE) >= '19-JUL-2019' ) 
				--   OR ( Flt.carriercode = 'JQ' AND Cast(Leg.datesta AS DATE) >= '29-JUL-2019' ) 
				--   OR ( Flt.carriercode = 'QF' AND Cast(Leg.datesta AS DATE) >= '29-JUL-2019' ) 				  
				--)
		    AND month(leg.DateSTA )= ? and  Year(leg.DateSTA )=?
),
FInSum AS (Select ShpVer.FlightId, ShpVer.ShipmentId, Sum(ShpVer.BreakDownPieces) Pieces, Sum(ShpVer.BreakDownWeight) Weight,
               Max(ShpVer.CreatedDateTime) FrtInDate
          from Imp_ShipmentVerification ShpVer
		  Where IsNull(ShpVer.BreakDownPieces,0) > 0
		Group By ShpVer.FlightId, ShpVer.ShipmentId
),
FOutSum AS (Select FrtOut.FlightId, FrtOut.ShipmentId, Sum(FrtOut.Pieces) Pieces, Sum(FrtOut.Weight) Weight
			from shipment_freightOut FrtOut
		Group By FrtOut.FlightId, FrtOut.ShipmentId
),
DO As (Select FrtOut.FlightId, FrtOut.ShipmentId, IsNull(FrtOut.ShipmentLocation,FrtOut.WarehouseLocation) Location, 
				   Sum(FrtOut.Pieces) Pieces, Sum(FrtOut.Weight) Weight,
				   Max(FrtOut.DeliveryRequestIssuedOn) PODate, Dlv.DeliveryOrderNo DeliveryOrderNo, 
				   Max(FrtOut.DeliveredOn) DeliveryDate,
				   Dlv.CustomerCode, cus.CustomerShortName CustomerName
			from shipment_freightOut FrtOut 
			Inner Join Imp_Delivery Dlv On Dlv.ShipmentId = FrtOut.ShipmentId 
			                            And Dlv.ImpDeliveryId = FrtOut.DeliveryOrderNo
			                           --And IsNULL(dlv.Status,'#') = 'COMPLETED'
			Inner Join Customer_master cus on cus.CustomerCode = Dlv.CustomerCode
			Group By FrtOut.FlightId, FrtOut.ShipmentId, IsNull(FrtOut.ShipmentLocation,FrtOut.WarehouseLocation), 
			         Dlv.DeliveryOrderNo, Dlv.CustomerCode, cus.CustomerShortName
			Union All
            Select FrtOut.FlightId, FrtOut.ShipmentId, IsNull(FrtOut.ShipmentLocation,FrtOut.WarehouseLocation) Location, 
				   Sum(FrtOut.Pieces) Pieces, Sum(FrtOut.Weight) Weight,
				   Max(FrtOut.DeliveryRequestIssuedOn) PODate, Dlv.DeliveryOrderNo DeliveryOrderNo, 
				   Max(FrtOut.DeliveredOn) DlvDate,
				   'IXX' CustomerCode, Dlv.CustomerCode CustomerName
			from shipment_freightOut FrtOut 
			Inner Join Imp_Delivery Dlv On Dlv.ShipmentId = FrtOut.ShipmentId And Dlv.ImpDeliveryId = FrtOut.DeliveryOrderNo
			                            --And dlv.Status = 'COMPLETED' 
										And Dlv.CustomerCode Not IN (select CustomerCode From Customer_master)
			Group By FrtOut.FlightId, FrtOut.ShipmentId, IsNull(FrtOut.ShipmentLocation,FrtOut.WarehouseLocation), 
			         Dlv.DeliveryOrderNo,  CustomerCode, Dlv.CustomerCode
),
FinDO AS (Select FInSum.FlightId, FInSum.ShipmentId, FInSum.FrtInDate, 
                 DO.Location, DO.Pieces, DO.Weight, DO.PODate, DO.DeliveryOrderNo, DO.DeliveryDate,
                 DO.CustomerCode, DO.CustomerName
            From FInSum 
			Inner Join FOutSum On FOutSum.FlightId = FInSum.FlightId 
			                   And FOutSum.ShipmentId = FInSum.ShipmentId
							   And FOutSum.Weight <= FInSum.Weight
			Inner Join Do On Do.FlightId = FOutSum.FlightId
			              And Do.ShipmentId = FOutSum.ShipmentId
			Union All
			Select FInSum.FlightId, FInSum.ShipmentId, FInSum.FrtInDate, 
                 '' Location, FInSum.Pieces, FInSum.Weight, '' PODate, '' DeliveryOrderNo, '' DeliveryDate,
                 '' CustomerCode, '' CustomerName
            From FInSum 
			Inner Join Flt On flt.FlightId = FInSum.FlightId
			Where Not Exists (Select 1 From FOutSum Where FOutSum.FlightId = FInSum.FlightId 
													  And FOutSum.ShipmentId = FInSum.ShipmentId)
			Union All
			Select	FInSum.FlightId, FInSum.ShipmentId, FInSum.FrtInDate, '' Location, (FInSum.Pieces-FOutSum.Pieces) Pieces, 
			       (FInSum.Weight-FOutSum.Weight) Weight, 
			       '' PODate, '' DeliveryOrderNo, '' DeliveryDate,
                   '' CustomerCode, ''CustomerName
            From FInSum 
			Inner Join FOutSum On FOutSum.FlightId = FInSum.FlightId 
			                   And FOutSum.ShipmentId = FInSum.ShipmentId
							   And FOutSum.Weight <= FInSum.Weight
							   And (FInSum.Weight-FOutSum.Weight) > 0
			Union All
			Select FInSum.FlightId, FInSum.ShipmentId, Max(FInSum.FrtInDate), Max(DO.Location) Location, 
			       Max(FInSum.Pieces) Pieces, Max(FInSum.Weight) Weight, 
			       Max(DO.PODate) PODate, Max(DO.DeliveryOrderNo) DeliveryOrderNo, Max(DO.DeliveryDate) DeliveryDate, 
				   Max(DO.CustomerCode) CustomerCode, Max(DO.CustomerName) CustomerName
            From FInSum 
			Inner Join FOutSum On FOutSum.FlightId = FInSum.FlightId 
			                   And FOutSum.ShipmentId = FInSum.ShipmentId
							   And FOutSum.Weight > FInSum.Weight
			Left Join Do On Do.FlightId = FOutSum.FlightId
			              And Do.ShipmentId = FOutSum.ShipmentId
			Group By FInSum.FlightId, FInSum.ShipmentId
),
FOutSHC AS (select Shc.FlightId, Shc.ShipmentId, Shc.Location, 
                   Shc.DeliveryOrderNo,                     										
                  STRING_AGG(Shc.SpecialHandlingCode,',') SpecialHandlingCode,														
			      Max(CASE WHEN SpecialHandlingCode IN ('RCX','REX','RXB','RXB','RXC','RXD',
														'RXE','RXG','RXS','RFG','RNG','RPG',
														'RFL','RFS','RSC','RFW','ROX','ROP',
														'RPB','RIS','RRW','RRY','RCM','RSB',
														'RMD','RLI','RLM','RCL','DGR','DGD',
														'RGX','RRE','ROP','RDS',
														'RCS','RDG','RXE','RXG')				
					   THEN 1 ELSE 0 END) DGR,									
				  Max(CASE WHEN Shc.SpecialHandlingCode IN ('PHC','PES','PEF','EAT','PEP','FRI','FRO','LHO','PEM','PER','PIL')										
					   THEN 1 ELSE 0 END) PER,									
                  Max(CASE WHEN Shc.SpecialHandlingCode IN ('BUP') THEN 1 ELSE 0 END) BUP,														
				  Max(CASE WHEN Shc.SpecialHandlingCode IN ('RAC') THEN 1 ELSE 0 END) EXP,
				  Max(CASE WHEN SpecialHandlingCode in ('BUC') THEN 1 ELSE 0 END) BUC,
				   Max(CASE WHEN SpecialHandlingCode in ('GEN') THEN 1 ELSE 0 END) GENIndicator
		     from (Select  b.FlightId, b.ShipmentId, IsNull(b.ShipmentLocation,b.WarehouseLocation) location, c.DeliveryOrderNo,
			               a.SpecialHandlingCode
			        From shipment_freightoutShc a
						Inner Join shipment_freightout b On b.ShipmentFreightOutId = a.ShipmentFreightOutId
						Inner Join Imp_Delivery c On c.ShipmentId = b.ShipmentId 
							And c.ImpDeliveryId = b.DeliveryOrderNo
							Group By b.FlightId,  b.ShipmentId, IsNull(b.ShipmentLocation,b.WarehouseLocation), c.DeliveryOrderNo,
							a.SpecialHandlingCode
						) Shc						
		     Group By Shc.FlightId, Shc.ShipmentId, Shc.Location, Shc.DeliveryOrderNo
),
FInOut As (Select FinDO.FlightId, FinDO.ShipmentId, FinDO.FrtInDate, 
                  FinDO.Location, FinDO.Pieces, FinDO.Weight, FinDO.PODate, FinDO.DeliveryOrderNo, 
                  FinDO.DeliveryDate, FinDO.CustomerCode, FinDO.CustomerName, FOutSHC.SpecialHandlingCode, 
				  FOutSHC.DGR, FOutSHC.PER, FOutSHC.BUP, FOutSHC.EXP,FOutSHC.BUC,FOutSHC.GENIndicator
			From FinDO
			Left Join FOutSHC On FOutSHC.FlightId    = FinDO.FlightId 
			                  And FOutSHC.ShipmentId = FinDO.ShipmentId 
			                  And IsNull(FOutSHC.Location,'#')        = IsNull(FinDO.Location,'#')
			                  And IsNull(FOutSHC.DeliveryOrderNo,'#') = IsNull(FinDO.DeliveryOrderNo,'#')
),
TTH AS (select bkgDtl.FlightId, bkg.ShipmentNumber, bkg.ShipmentDate, 
               Max(bkgDtl.transfertype) TransferType 
				  
		     from Exp_ShipmentFlightBookingDetail bkgDtl
			Inner Join Exp_ShipmentBooking bkg On bkg.BookingId = bkgDtl.BookingId
			 Where IsNull(bkgDtl.BookingCancellationFlag,0) = 0
			 group by bkgDtl.FlightId, bkg.ShipmentNumber, bkg.ShipmentDate
),
CneAgt AS (select sc.ShipmentId, sc.CustomerCode ConsigneeCode, sc.CustomerName ConsigneeName, 
                  cm.CustomerCode AgentCode, cm.CustomerShortName AgentName
			 from Shipment_MasterCustomerInfo sc
			 Left Join Customer_master cm On cm.Customer_ID = sc.AppointedAgent
			 			where sc.CustomerType = 'CNE'

			
), 

Shipper AS (
       select sc.ShipmentId, sc.CustomerCode  ShipperCode, sc.CustomerName ShipperName 
                 
			 from Shipment_MasterCustomerInfo sc
			 Left Join Customer_master cm On cm.Customer_ID = sc.AppointedAgent
			where sc.CustomerType = 'SHP'
),
SHCMst AS (select mst.ShipmentId, STRING_AGG(SpecialHandlingCode,',') SpecialHandlingCode,														
			      Max(CASE WHEN SpecialHandlingCode IN ('RCX','REX','RXB','RXB','RXC','RXD',
														'RXE','RXG','RXS','RFG','RNG','RPG',
														'RFL','RFS','RSC','RFW','ROX','ROP',
														'RPB','RIS','RRW','RRY','RCM','RSB',
														'RMD','RLI','RLM','RCL','DGR','DGD',
														'RGX','RRE','ROP','RDS',
														'RCS','RDG','RXE','RXG')
						   THEN 1 ELSE 0 END) DGR,								
				  Max(CASE WHEN SpecialHandlingCode IN ('PHC','PES','PEF','EAT','PEP','FRI','FRO','LHO','PEM','PER','PIL')										
						   THEN 1 ELSE 0 END) PER,								
				  Max(CASE WHEN SpecialHandlingCode = 'BUP' THEN 1 ELSE 0 END) BUP,										
				  Max(CASE WHEN SpecialHandlingCode = 'RAC' THEN 1 ELSE 0 END) EXP,
				  Max(CASE WHEN SpecialHandlingCode = 'BUC' THEN 1 ELSE 0 END) BUC,
				  Max(CASE WHEN SpecialHandlingCode = 'GEN' THEN 1 ELSE 0 END) GENIndicator
			 from Shipment_MasterSHC shc											
	   Inner Join Shipment_Master mst On mst.ShipmentId = shc.ShipmentId													
		 Group By mst.ShipmentId
),
FinData As (Select convert(varchar(16),flt.DateSTA,120) FreightInArrival_ATA, 
flt.DateETA,
Flt.FlightId,
Flt.FlightKey,
flt.InboundAircraftBodyType,
Flt.InboundFlightBoardPoint,
flt.InboundFlightOriginDate,
flt.InboundFlightType,
 (case when Flt.ImpFreightFlightManifestByFlightId is not null then 'YES' ELSE 'NO' END) as FFM,
sm.ShipmentNumber,
sm.ShipmentId,
sm.ShipmentDate,
sm.shipmentType,
Shipper.ShipperCode,
Shipper.ShipperName,
convert(varchar(16),flt.DateSTA,120) STADateTime, 
car.CarrierShortName,


																		
				flt.CarrierCode ArrivalFlightCarrier,  flt.FlightNumber ArrivalFlightNumber, 														
				SubString(sm.ShipmentNumber,1,3) AWBPrefix, SubString(sm.ShipmentNumber,4,8) AWBNumber, 
				sm.Origin, sm.Destination, 	
				convert(varchar(20),DATEADD(hour,8,FInOut.FrtInDate),120) FreightInDateTime,	
				CASE WHEN (FInOut.DGR = 1 OR SHCMst.DGR = 1) 
				     THEN 'Y' ELSE 'N' END DGR, 										
				CASE WHEN (FInOut.PER = 1 OR SHCMst.PER = 1) 
				     THEN 'Y' ELSE 'N' END PERISHABLES, 											
				CASE WHEN (FInOut.BUP = 1 OR SHCMst.BUP = 1) 
				     THEN 'Y' ELSE 'N' END "BUP OR NON", 											
				CASE WHEN (FInOut.EXP = 1 OR SHCMst.EXP = 1) 
				     THEN 'Y' ELSE 'N' END EXPRESS,	
					 CASE WHEN (FInOut.BUC = 1 OR SHCMst.BUC = 1) 
				     THEN 'Y' ELSE 'N' END BUC,	
					 CASE WHEN (FInOut.GENIndicator = 1 OR SHCMst.GENIndicator = 1) 
				     THEN 'Y' ELSE 'N' END GENIndicator,
				 --DONumber, 
				-- DOPrintDateTime,
				IsNull(SHCMst.SpecialHandlingCode,'.') SpecialHandlingCode,
				IsNull(CneAgt.AgentCode,'.')  IssuingAgentCode, 
				IsNull(CneAgt.AgentName,'.')   IssuingAgentName,										
				--'.' PickOrderDateTime, 										
				IsNull(CneAgt.ConsigneeName,'.') ConsigneeName,
				IsNull(CneAgt.ConsigneeCode,'.') ConsigneeCode,
				TTH.TransferType TransferType,
				'N' Transhipment,										
				FInOut.Weight SumWeight, FInOut.Pieces SumPieces, 										
				IsNull(sm.NatureOfGoodsDescription,'.') NOG, 										
			CASE WHEN (FInOut.PER = 1 OR SHCMst.PER = 1) THEN 'COOLPORT'										
				 WHEN (FInOut.EXP = 1 OR SHCMst.EXP = 1) THEN 'EXPRESS'									
				 WHEN Car.CarrierCode IN ('SQ','MI','TR','N7','TH','RU','8K','3S','NZ')	THEN 'SQ Import'								
				 ELSE 'OAL Import' End CostCentre, 								
				CAST(DATEADD(hour,8, FInOut.FrtInDate) AS Date) FreightIn,										
				IsNull(FInOut.Location,'.') Location,  
				  Case When Substring(FInOut.Location,1,3) In (select UldType from Uld_UldType)
				       Then Substring(FInOut.Location,1,3) Else 'BULK' End UlDType,
				  Case When Substring(FInOut.Location,1,3) In (select UldType from Uld_UldType)
				       Then Substring(FInOut.Location,4,10) Else '.' End UlDNumber,					
				flt.AircraftType AircraftType,
				IsNull(CONVERT(VARCHAR(16),DATEADD(hour,8,FInOut.DeliveryDate),120),'.') FreightOutDateTime
				

			from Shipment_Master sm
			Inner Join FInOut On FInOut.ShipmentId = sm.ShipmentId
			Inner Join Flt On Flt.FlightId = FInOut.FlightId
			Inner Join Mst_carrier Car On Car.CarrierCode = Flt.CarrierCode			  			  
			Left  Join TTH ON TTH.flightId       = FInOut.FlightId
							AND TTH.ShipmentNumber = sm.ShipmentNumber	
							AND TTH.ShipmentDate   = sm.ShipmentDate										
			Left  Join SHCMst ON SHCMst.ShipmentId  = FInOut.ShipmentId
			Left  Join CneAgt ON CneAgt.ShipmentId  = FInOut.ShipmentId
			
			Left  Join Shipper ON Shipper.ShipmentId  = FInOut.ShipmentId
			
			where sm.Destination   = ?
			  --And sm.ShipmentType != 'MAIL'											
			  And sm.CancelledOn IS NULL


		Union All
		Select convert(varchar(16),flt.DateSTA,120) FreightInArrival_ATA,
		flt.DateETA,
		Flt.FlightId,
		Flt.FlightKey,
flt.InboundAircraftBodyType,
Flt.InboundFlightBoardPoint,
flt.InboundFlightOriginDate,
flt.InboundFlightType,
(case when Flt.ImpFreightFlightManifestByFlightId is not null then 'YES' ELSE 'NO' END) as FFM,
sm.ShipmentNumber,
sm.ShipmentId,
sm.ShipmentDate,
sm.shipmentType,
Shipper.ShipperCode,
Shipper.ShipperName,
convert(varchar(16),flt.DateSTA,120) STADateTime, 
car.CarrierShortName,
flt.CarrierCode ArrivalFlightCarrier, flt.FlightNumber ArrivalFlightNumber, 														
SubString(sm.ShipmentNumber,1,3) AWBPrefix, SubString(sm.ShipmentNumber,4,8) AWBNumber, 
sm.Origin, 
sm.Destination, 
IsNull(convert(varchar(20),DATEADD(hour,8,FInSum.FrtInDate),120),'.')	FreightInDateTime,
CASE WHEN SHCMst.DGR = 1 
	 THEN 'Y' ELSE 'N' END DGR, 											
CASE WHEN SHCMst.PER = 1 
	 THEN 'Y' ELSE 'N' END PERISHABLES, 											
CASE WHEN SHCMst.BUP = 1 
	 THEN 'Y' ELSE 'N' END "BUP OR NON", 											
CASE WHEN SHCMst.EXP = 1 
	 THEN 'Y' ELSE 'N' END EXPRESS,
	 CASE WHEN SHCMst.BUC = 1 
	 THEN 'Y' ELSE 'N' END BUC,	
	 CASE WHEN SHCMst.GENIndicator = 1 
	 THEN 'Y' ELSE 'N' END GENIndicator,
	 
	 			
				 --DONumber, 
			-- DOPrintDateTime,
	
IsNull(SHCMst.SpecialHandlingCode,'.') SpecialHandlingCode,
IsNull(CneAgt.AgentCode,'.')  IssuingAgentCode, 
IsNull(CneAgt.AgentName,'.')   IssuingAgentName,										
--'.' PickOrderDateTime, 										
IsNull(CneAgt.ConsigneeName,'.') ConsigneeName,
IsNull(CneAgt.ConsigneeCode,'.') ConsigneeCode,
TTH.TransferType TransferType, 
											
'Y' Transhipment,										
FInSum.Weight SumWeight, 
FInSum.Pieces SumPieces, 
IsNull(sm.NatureOfGoodsDescription,'.') NOG, 										
CASE WHEN SHCMst.PER = 1 THEN 'COOLPORT'										
	 WHEN SHCMst.EXP = 1 THEN 'EXPRESS'									
	 WHEN Car.CarrierCode IN ('SQ','MI','TR','N7','TH','RU','8K','3S','NZ')	THEN 'SQ Import'								
ELSE 'OAL Import' End CostCentre, 
CAST(FInSum.FrtInDate AS Date) FreightIn,										
'.' Location,  
'.' UlDType, 
'.' UlDNumber,
flt.AircraftType AircraftType,
IsNull(CONVERT(VARCHAR(16),DATEADD(hour,8,FInSum.FrtInDate),120),'.') FreightOutDateTime
			

			from Shipment_Master sm
			Inner Join FInSum On FInSum.ShipmentId = sm.ShipmentId
			Inner Join Flt On Flt.FlightId = FInSum.FlightId
			Inner Join Mst_carrier Car On Car.CarrierCode = Flt.CarrierCode			  			  
			Left  Join TTH ON TTH.flightId         = FInSum.FlightId
							AND TTH.ShipmentNumber = sm.ShipmentNumber	
							AND TTH.ShipmentDate   = sm.ShipmentDate										
			Left  Join SHCMst ON SHCMst.ShipmentId     = FInSum.ShipmentId
			Left  Join CneAgt ON CneAgt.ShipmentId     = FInSum.ShipmentId
			
			Left  Join Shipper ON Shipper.ShipmentId    = FInSum.ShipmentId
			
			
			where sm.Origin       != ?
			  And sm.Destination  != ?
			  --And sm.ShipmentType != 'MAIL'											
			  And sm.CancelledOn IS NULL
			  
)
Select 
FreightInArrival_ATA	as	DateATA 	,
--AircraftType	as	InboundAicraftType 	,
FlightKey,
ArrivalFlightCarrier	as	Carrier 	,

ArrivalFlightNumber	as	FlightNumber 	,
--AWBNumber	as	[AWB number]	,
--AWBPrefix	as	[AWB prefix] 	,
--"BUP OR NON"	as	BUPFLAG 	,
--BUC As BUCFLAG,
--CarrierShortName	as	CarrierShortName	,
--ConsigneeCode	as	ConsigneeCode 	,
--ConsigneeName	as	ConsigneeName 	,
--CostCentre	as	CostCentre	,
--Destination	as	Destination 	,
--DGR	as	DgFLAG	,
--EXPRESS	as	ECCFLAG	,
--FlightId	as	FlightID 	,
--FreightIn	as	FreightIn	,
--FreightInArrival_ATA	as	DateATA 	,
--FreightInDateTime	as	FreightInDateTime	,
--FreightOutDateTime	as	FreightOutDateTime	,
--InboundAircraftBodyType	as	InboundAircraftBodyType 	,
--InboundFlightBoardPoint	as	InboundFlightBoardPoint 	,
--InboundFlightOriginDate	as	InboundFlightOriginDate 	,
--InboundFlightType	as	InboundFlightType 	,
--IssuingAgentCode	as	IssuingAgentCode 	,
--IssuingAgentName	as	IssuingAgentName	,
--Location	as	Location,
--null	as	HandlingAreaCode 	,
--NOG	as	NatureOfGoodsDescription 	,
--Origin	as	Origin 	,
--PERISHABLES	as	PhcFLAG	,
--ShipmentDate	as	ShipmentDate	,
ShipmentNumber	as	ShipmentNumber 	,
--shipmentType	as	shipmentType 	,
--ShipperCode	as	ShipperCode 	,
--ShipperName	as	ShipperName 	,
--ShipmentId	as	ShipmentId 	,
--SpecialHandlingCode	as	SpecialHandlingCode 	,
--STADateTime	as	DateSTA 	,
--SumPieces	as	BreakdownPiece 	,
SumWeight	as	TotalWeight 	,

case when GENIndicator='Y' and Transhipment='N' then SumWeight else 0 end as generalLocal,
case when GENIndicator='Y' and Transhipment='Y' then SumWeight else 0 end as generalTranshipment,
case when PERISHABLES='Y' and Transhipment='N' then SumWeight else 0 end as PHCLocal,
case when PERISHABLES='Y' and Transhipment='Y' then SumWeight else 0 end as PHCTranshipment,
FFM
--ISnull(TransferType,'.')	as	TransferType	,
--Transhipment	as	TranshipmentIndicator 	,
--UlDNumber	as	"ULD Number"	,
--UlDType	as	"ULD Type"	,
--DateETA	as 	DateETA 	,
--null	as 	PartShipmentIndicator 	,
--null	as 	ValPieces 	,
--null	as 	ValWeight 	,

--case when PERISHABLES='Y' then SumPieces else 0 end as PhcPieces,
--case when DGR='Y' then SumPieces else 0 end as DgPieces ,
--case when "BUP OR NON"='Y' then SumPieces else 0 end as BUPPieces ,
--case when EXPRESS='Y' then SumPieces else 0 end as EccPieces,
--case when BUC='Y' then SumPieces else 0 end as BUCPieces,

--case when PERISHABLES='Y' then SumWeight else 0 end as PhcWeight ,
--case when DGR='Y' then SumWeight else 0 end as DgWeight,
--case when "BUP OR NON"='Y' then SumWeight else 0 end as BUPWeight ,
--case when EXPRESS='Y' then SumWeight else 0 end as EccWeight,
--case when BUC='Y' then SumWeight else 0 end as BUCWeight

from finData ;


]]></xml-property>
            <xml-property name="designerValues"><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<model:DesignValues xmlns:design="http://www.eclipse.org/datatools/connectivity/oda/design" xmlns:model="http://www.eclipse.org/birt/report/model/adapter/odaModel">
  <Version>2.0</Version>
  <design:ResultSets derivedMetaData="true">
    <design:resultSetDefinitions>
      <design:resultSetColumns>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>ATA</design:name>
              <design:position>1</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>4000</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>ATA</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>ATA</design:label>
            <design:formattingHints>
              <design:displaySize>4000</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>FlightKey</design:name>
              <design:position>2</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>8</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>NotNullable</design:nullability>
            <design:uiHints>
              <design:displayName>FlightKey</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>FlightKey</design:label>
            <design:formattingHints>
              <design:displaySize>8</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>Carrier</design:name>
              <design:position>3</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>3</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>NotNullable</design:nullability>
            <design:uiHints>
              <design:displayName>Carrier</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>Carrier</design:label>
            <design:formattingHints>
              <design:displaySize>3</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>FlightNumber</design:name>
              <design:position>4</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>5</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>NotNullable</design:nullability>
            <design:uiHints>
              <design:displayName>FlightNumber</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>FlightNumber</design:label>
            <design:formattingHints>
              <design:displaySize>5</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>ShipmentNumber</design:name>
              <design:position>5</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>20</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>NotNullable</design:nullability>
            <design:uiHints>
              <design:displayName>ShipmentNumber</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>ShipmentNumber</design:label>
            <design:formattingHints>
              <design:displaySize>20</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>TotalWeight</design:name>
              <design:position>6</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>3</design:nativeDataTypeCode>
            <design:precision>38</design:precision>
            <design:scale>1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>TotalWeight</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>TotalWeight</design:label>
            <design:formattingHints>
              <design:displaySize>40</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>generalLocal</design:name>
              <design:position>7</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>3</design:nativeDataTypeCode>
            <design:precision>8</design:precision>
            <design:scale>1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>generalLocal</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>generalLocal</design:label>
            <design:formattingHints>
              <design:displaySize>10</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>generalTranshiment</design:name>
              <design:position>8</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>3</design:nativeDataTypeCode>
            <design:precision>8</design:precision>
            <design:scale>1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>generalTranshiment</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>generalTranshiment</design:label>
            <design:formattingHints>
              <design:displaySize>10</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>PhcLocal</design:name>
              <design:position>9</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>3</design:nativeDataTypeCode>
            <design:precision>8</design:precision>
            <design:scale>1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>PhcLocal</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>PhcLocal</design:label>
            <design:formattingHints>
              <design:displaySize>10</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>PhcTranshiment</design:name>
              <design:position>10</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>3</design:nativeDataTypeCode>
            <design:precision>8</design:precision>
            <design:scale>1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>PhcTranshiment</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>PhcTranshiment</design:label>
            <design:formattingHints>
              <design:displaySize>10</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>FFM</design:name>
              <design:position>11</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>3</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>NotNullable</design:nullability>
            <design:uiHints>
              <design:displayName>FFM</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>FFM</design:label>
            <design:formattingHints>
              <design:displaySize>3</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
      </design:resultSetColumns>
      <design:criteria/>
    </design:resultSetDefinitions>
  </design:ResultSets>
</model:DesignValues>]]></xml-property>
        </oda-data-set>
    </data-sets>
    <styles>
        <style name="report" id="4">
            <property name="fontFamily">sans-serif</property>
            <property name="fontSize">10pt</property>
        </style>
        <style name="crosstab" id="5">
            <property name="borderBottomColor">#CCCCCC</property>
            <property name="borderBottomStyle">solid</property>
            <property name="borderBottomWidth">1pt</property>
            <property name="borderLeftColor">#CCCCCC</property>
            <property name="borderLeftStyle">solid</property>
            <property name="borderLeftWidth">1pt</property>
            <property name="borderRightColor">#CCCCCC</property>
            <property name="borderRightStyle">solid</property>
            <property name="borderRightWidth">1pt</property>
            <property name="borderTopColor">#CCCCCC</property>
            <property name="borderTopStyle">solid</property>
            <property name="borderTopWidth">1pt</property>
        </style>
        <style name="crosstab-cell" id="6">
            <property name="borderBottomColor">#CCCCCC</property>
            <property name="borderBottomStyle">solid</property>
            <property name="borderBottomWidth">1pt</property>
            <property name="borderLeftColor">#CCCCCC</property>
            <property name="borderLeftStyle">solid</property>
            <property name="borderLeftWidth">1pt</property>
            <property name="borderRightColor">#CCCCCC</property>
            <property name="borderRightStyle">solid</property>
            <property name="borderRightWidth">1pt</property>
            <property name="borderTopColor">#CCCCCC</property>
            <property name="borderTopStyle">solid</property>
            <property name="borderTopWidth">1pt</property>
        </style>
    </styles>
    <page-setup>
        <simple-master-page name="Simple MasterPage" id="2"/>
    </page-setup>
    <body>
        <grid id="10">
            <property name="fontFamily">"Courier New"</property>
            <property name="textAlign">center</property>
            <column id="11"/>
            <row id="12">
                <cell id="13">
                    <label id="14">
                        <property name="eventHandlerClass">com.ngen.cosys.report.event.LabelEventHandler</property>
                        <text-property name="text">billing.sq.bup</text-property>
                    </label>
                </cell>
            </row>
        </grid>
        <table id="15">
            <property name="fontFamily">"Courier New"</property>
            <property name="textAlign">center</property>
            <property name="dataSet">Data Set</property>
            <list-property name="boundDataColumns">
                <structure>
                    <property name="name">DateATA</property>
                    <text-property name="displayName">DateATA</text-property>
                    <expression name="expression" type="javascript">dataSetRow["DateATA"]</expression>
                    <property name="dataType">string</property>
                    <property name="allowExport">true</property>
                </structure>
                <structure>
                    <property name="name">FlightKey</property>
                    <text-property name="displayName">FlightKey</text-property>
                    <expression name="expression" type="javascript">dataSetRow["FlightKey"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">generalLocal</property>
                    <text-property name="displayName">generalLocal</text-property>
                    <expression name="expression" type="javascript">dataSetRow["generalLocal"]</expression>
                    <property name="dataType">decimal</property>
                </structure>
                <structure>
                    <property name="name">generalTranshipment</property>
                    <text-property name="displayName">generalTranshipment</text-property>
                    <expression name="expression" type="javascript">dataSetRow["generalTranshipment"]</expression>
                    <property name="dataType">decimal</property>
                </structure>
                <structure>
                    <property name="name">PHCLocal</property>
                    <text-property name="displayName">PHCLocal</text-property>
                    <expression name="expression" type="javascript">dataSetRow["PHCLocal"]</expression>
                    <property name="dataType">decimal</property>
                </structure>
                <structure>
                    <property name="name">PHCTranshipment</property>
                    <text-property name="displayName">PHCTranshipment</text-property>
                    <expression name="expression" type="javascript">dataSetRow["PHCTranshipment"]</expression>
                    <property name="dataType">decimal</property>
                </structure>
                <structure>
                    <property name="name">FFM</property>
                    <text-property name="displayName">FFM</text-property>
                    <expression name="expression" type="javascript">dataSetRow["FFM"]</expression>
                    <property name="dataType">string</property>
                </structure>
            </list-property>
            <column id="40"/>
            <column id="41"/>
            <column id="42"/>
            <column id="43"/>
            <column id="44"/>
            <column id="45"/>
            <column id="46"/>
            <header>
                <row id="16">
                    <property name="backgroundColor">#666699</property>
                    <cell id="17">
                        <label id="47">
                            <property name="eventHandlerClass">com.ngen.cosys.report.event.LabelEventHandler</property>
                            <text-property name="text">g.FlightDate</text-property>
                        </label>
                    </cell>
                    <cell id="18">
                        <label id="48">
                            <property name="eventHandlerClass">com.ngen.cosys.report.event.LabelEventHandler</property>
                            <text-property name="text">flight.flight.no</text-property>
                        </label>
                    </cell>
                    <cell id="19">
                        <label id="49">
                            <property name="eventHandlerClass">com.ngen.cosys.report.event.LabelEventHandler</property>
                            <text-property name="text">billing.gen.sin</text-property>
                        </label>
                    </cell>
                    <cell id="20">
                        <label id="50">
                            <property name="eventHandlerClass">com.ngen.cosys.report.event.LabelEventHandler</property>
                            <text-property name="text">billing.gen.ts</text-property>
                        </label>
                    </cell>
                    <cell id="21">
                        <label id="51">
                            <property name="eventHandlerClass">com.ngen.cosys.report.event.LabelEventHandler</property>
                            <text-property name="text">billing.phc.sin</text-property>
                        </label>
                    </cell>
                    <cell id="22">
                        <label id="52">
                            <property name="eventHandlerClass">com.ngen.cosys.report.event.LabelEventHandler</property>
                            <text-property name="text">billing.phc.ts</text-property>
                        </label>
                    </cell>
                    <cell id="23">
                        <label id="53">
                            <property name="eventHandlerClass">com.ngen.cosys.report.event.LabelEventHandler</property>
                            <text-property name="text">billing.flg.ffm</text-property>
                        </label>
                    </cell>
                </row>
            </header>
            <detail>
                <row id="24">
                    <cell id="25">
                        <data id="78">
                            <property name="resultSetColumn">DateATA</property>
                        </data>
                    </cell>
                    <cell id="26">
                        <data id="79">
                            <property name="resultSetColumn">FlightKey</property>
                        </data>
                    </cell>
                    <cell id="27">
                        <data id="80">
                            <property name="resultSetColumn">generalLocal</property>
                        </data>
                    </cell>
                    <cell id="28">
                        <data id="81">
                            <property name="resultSetColumn">generalTranshipment</property>
                        </data>
                    </cell>
                    <cell id="29">
                        <data id="82">
                            <property name="resultSetColumn">PHCLocal</property>
                        </data>
                    </cell>
                    <cell id="30">
                        <data id="83">
                            <property name="resultSetColumn">PHCTranshipment</property>
                        </data>
                    </cell>
                    <cell id="31">
                        <data id="84">
                            <property name="resultSetColumn">FFM</property>
                        </data>
                    </cell>
                </row>
            </detail>
            <footer>
                <row id="32">
                    <cell id="33"/>
                    <cell id="34"/>
                    <cell id="35"/>
                    <cell id="36"/>
                    <cell id="37"/>
                    <cell id="38"/>
                    <cell id="39"/>
                </row>
            </footer>
        </table>
    </body>
</report>
