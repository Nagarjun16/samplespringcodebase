<?xml version="1.0" encoding="UTF-8"?>
<report xmlns="http://www.eclipse.org/birt/2005/design" version="3.2.23" id="1">
    <property name="createdBy">Eclipse BIRT Designer Version 4.6.0.v201606072122</property>
    <property name="units">in</property>
    <property name="iconFile">/templates/blank_report.gif</property>
    <property name="bidiLayoutOrientation">ltr</property>
    <property name="imageDPI">96</property>
    <parameters>
        <scalar-parameter name="fromdate" id="208">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant">2021-04-11T23:59:00</value>
            </simple-property-list>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="Todate" id="209">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant">2021-04-13T00:00:00</value>
            </simple-property-list>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="flight" id="210">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="javascript"></value>
            </simple-property-list>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="dateSTASTD" id="211">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant"></value>
            </simple-property-list>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="carrier" id="215">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="javascript"></value>
            </simple-property-list>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="expressService" id="217">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="javascript"></value>
            </simple-property-list>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="tenantAirportCode" id="1165">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant"></value>
            </simple-property-list>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="tenantCurrentDateTime" id="1166">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant"></value>
            </simple-property-list>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
    </parameters>
    <data-sources>
        <oda-data-source extensionID="org.eclipse.birt.report.data.oda.jdbc" name="Data Source" id="86">
            <list-property name="privateDriverProperties">
                <ex-property>
                    <name>metadataBidiFormatStr</name>
                    <value>ILYNN</value>
                </ex-property>
                <ex-property>
                    <name>disabledMetadataBidiFormatStr</name>
                </ex-property>
                <ex-property>
                    <name>contentBidiFormatStr</name>
                    <value>ILYNN</value>
                </ex-property>
                <ex-property>
                    <name>disabledContentBidiFormatStr</name>
                </ex-property>
            </list-property>
            <property name="odaDriverClass">com.microsoft.sqlserver.jdbc.SQLServerDriver</property>
            <property name="odaURL">jdbc:sqlserver://cosysuatsqldb1server.database.windows.net;databaseName=NGCUAT</property>
            <property name="odaUser">SATSUatAppUser</property>
            <encrypted-property name="odaPassword" encryptionID="base64">U0B0c0FwcCQxNTYl</encrypted-property>
        </oda-data-source>
    </data-sources>
    <data-sets>
        <oda-data-set extensionID="org.eclipse.birt.report.data.oda.jdbc.JdbcSelectDataSet" name="Data Set" id="87">
            <property name="nullsOrdering">nulls lowest</property>
            <list-property name="columnHints"/>
            <list-property name="parameters">
                <structure>
                    <property name="name">param_12</property>
                    <property name="paramName">tenantAirportCode</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">1</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_13</property>
                    <property name="paramName">tenantAirportCode</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">2</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_1</property>
                    <property name="paramName">fromdate</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">3</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_2</property>
                    <property name="paramName">fromdate</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">4</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_3</property>
                    <property name="paramName">Todate</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">5</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_4</property>
                    <property name="paramName">carrier</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">6</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_5</property>
                    <property name="paramName">carrier</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">7</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_6</property>
                    <property name="paramName">flight</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">8</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_7</property>
                    <property name="paramName">flight</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">9</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_8</property>
                    <property name="paramName">dateSTASTD</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">10</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_9</property>
                    <property name="paramName">dateSTASTD</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">11</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_14</property>
                    <property name="paramName">tenantAirportCode</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">12</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_10</property>
                    <property name="paramName">fromdate</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">13</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_11</property>
                    <property name="paramName">fromdate</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">14</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_79</property>
                    <property name="paramName">Todate</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">15</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_31</property>
                    <property name="paramName">carrier</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">16</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_32</property>
                    <property name="paramName">carrier</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">17</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_15</property>
                    <property name="paramName">flight</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">18</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_16</property>
                    <property name="paramName">flight</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">19</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_17</property>
                    <property name="paramName">dateSTASTD</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">20</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_18</property>
                    <property name="paramName">dateSTASTD</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">21</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_19</property>
                    <property name="paramName">fromdate</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">22</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_20</property>
                    <property name="paramName">fromdate</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">23</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_21</property>
                    <property name="paramName">Todate</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">24</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_22</property>
                    <property name="paramName">carrier</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">25</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_23</property>
                    <property name="paramName">carrier</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">26</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_24</property>
                    <property name="paramName">flight</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">27</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_25</property>
                    <property name="paramName">flight</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">28</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_26</property>
                    <property name="paramName">dateSTASTD</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">29</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_27</property>
                    <property name="paramName">dateSTASTD</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">30</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData"/>
            <method name="beforeOpen"><![CDATA[var expressService = params["expressService"].value;

if(expressService != null &amp;&amp; expressService == 'ROU'){
 	this.queryText = this.queryText + " and ((OutboundECCPlanningAdviceInfo.SHCHandlingGroup like '%COU%' and OutboundECCPlanningAdviceInfo.SHCHandlingGroup like '%RAC%') or OutboundECCPlanningAdviceInfo.ShipmentNumber is null) ";
}else if(expressService != null &amp;&amp; expressService == 'RPS'){
	this.queryText = this.queryText + " and ((OutboundECCPlanningAdviceInfo.SHCHandlingGroup like '%RAC%' and OutboundECCPlanningAdviceInfo.SHCHandlingGroup like '%XPS%') or OutboundECCPlanningAdviceInfo.ShipmentNumber is null) ";
}else if(expressService != null &amp;&amp; expressService == 'COU'){
	this.queryText = this.queryText + " and ((OutboundECCPlanningAdviceInfo.SpecialHandlingCode like '%COU%' and (OutboundECCPlanningAdviceInfo.SHCHandlingGroup not like '%XPS%' and OutboundECCPlanningAdviceInfo.SHCHandlingGroup not like '%RAC%')) or OutboundECCPlanningAdviceInfo.ShipmentNumber is null) ";
}else if(expressService != null &amp;&amp; expressService == 'RAC') {
	this.queryText = this.queryText + " and ((OutboundECCPlanningAdviceInfo.SpecialHandlingCode like '%RAC%' and (OutboundECCPlanningAdviceInfo.SHCHandlingGroup not like '%XPS%' and OutboundECCPlanningAdviceInfo.SHCHandlingGroup not like '%COU%')) or OutboundECCPlanningAdviceInfo.ShipmentNumber is null) ";
}else{
	this.queryText = this.queryText + " and (OutboundECCPlanningAdviceInfo.SHCHandlingGroup like '%COU%' or OutboundECCPlanningAdviceInfo.SHCHandlingGroup like '%RAC%' or OutboundECCPlanningAdviceInfo.ShipmentNumber is null) ";
}

this.queryText = this.queryText + " group by OutboundECCPlanningAdviceInfo.CustomerCode,"+
		" OutboundECCPlanningAdviceInfo.ShipmentNumber,"+
		" OutboundECCPlanningAdviceInfo.ShipmentId,"+
		" OutboundECCPlanningAdviceInfo.ShipmentDate,"+
		" OutboundECCPlanningAdviceInfo.Origin,"+
		" OutboundECCPlanningAdviceInfo.Destination,"+
		" OutboundECCPlanningAdviceInfo.documentPieces,"+
		" OutboundECCPlanningAdviceInfo.documentWeight,"+
		"Shipment_FreightWayBill.Pieces,"+
		" Shipment_FreightWayBill.Weight,"+
		" OutboundECCPlanningAdviceInfo.outgoingFlightNumber,"+
		" OutboundECCPlanningAdviceInfo.dateSTD,"+
		" OutboundECCPlanningAdviceInfo.FlightOffPoint,"+
		" OutboundECCPlanningAdviceInfo.ParkingBayDepAircraft,"+
		"OutboundECCPlanningAdviceInfo.OutboundAircraftRegNo,"+
		" OutboundECCPlanningAdviceInfo.UldNumber,"+
		" OutboundECCPlanningAdviceInfo.SpecialHandlingCode,"+
		" OutboundECCPlanningAdviceInfo.SHCHandlingGroup,"+
		" OutboundECCPlanningAdviceInfo.CarrierCode,"+
		" OutboundECCPlanningAdviceInfo.ShipmentStatus,"+
		" OutboundECCPlanningAdviceInfo.NoShowFlag,"+
		" OutboundECCPlanningAdviceInfo.Advice,"+
		" OutboundECCPlanningAdviceInfo.PlanningAdviceId,"+
		" OutboundECCPlanningAdviceInfo.FromEcc,"+
		" ECCPhysicallyAcceptedShipments.AcceptedPieces,"+
		" ECCPhysicallyAcceptedShipments.AcceptedWeight,"+
		"OutboundECCPlanningAdviceInfo.partShipmentFlag"+
		" order by "+ 
		"	OutboundECCPlanningAdviceInfo.dateSTD "+ 	
		"  option (maxdop 1)"
]]></method>
            <property name="dataSource">Data Source</property>
            <list-property name="resultSet"/>
            <xml-property name="queryText"><![CDATA[--Temp table for storing export flight information
declare @ExportOperativeFlights table(
	Flight_ID	numeric,	
	CarrierCode varchar(3),
	FlightNumber varchar(5),
	FlightKey varchar(8),
	DateSTD	datetime,
	DateETD datetime,
	DateATD	datetime,
	FlightType varchar(1),
	FlightBoardPoint varchar(3),
	FlightOffPoint varchar(3),
	ParkingBayDepAircraft varchar(20),
	SegmentFlightBoardPoint varchar(3),
	SegmentFlightOffPoint varchar(3),
	FlightSegmentId numeric,
	FlightDepartedOn datetime,
	ManifestCompletedBy varchar(65),
	ManifestCompletedAt datetime,
	OutboundAircraftRegNo varchar(20)
)

--Query to fetch export flight information based on cargo iq configuration
; insert into @ExportOperativeFlights
select
	Flt_OperativeFlight.Flight_ID,	
	Flt_OperativeFlight.CarrierCode,
	Flt_OperativeFlight.FlightNumber,
	Flt_OperativeFlight.FlightKey,
	Flt_OperativeFlight_Legs.DateSTD,
	Flt_OperativeFlight_Legs.DateETD,
	Flt_OperativeFlight_Legs.DateATD,
	Flt_OperativeFlight.FlightType,
	Flt_OperativeFlight_Legs.FlightBoardPoint,
	Flt_OperativeFlight_Legs.FlightOffPoint,
	Flt_OperativeFlight.ParkingBayDepAircraft,
	Flt_OperativeFlight_Segments.FlightBoardPoint,
	Flt_OperativeFlight_Segments.FlightOffPoint,
	Flt_OperativeFlight_Segments.FlightSegmentId,
	Exp_FlightEvents.FlightDepartedOn,
	Exp_FlightEvents.ManifestCompletedBy,
	Exp_FlightEvents.ManifestCompletedAt,
	Flt_OperativeFlight.OutboundAircraftRegNo
from	
	Flt_OperativeFlight inner join
	Flt_OperativeFlight_Legs
		on Flt_OperativeFlight.Flight_ID = Flt_OperativeFlight_Legs.Flight_ID and
			Flt_OperativeFlight_Legs.FlightBoardPoint = ? inner join
	Exp_FlightEvents
		on Flt_OperativeFlight.Flight_ID = Exp_FlightEvents.FlightId inner join
	Flt_OperativeFlight_Segments
		on Flt_OperativeFlight.Flight_ID = Flt_OperativeFlight_Segments.Flight_ID and
			Flt_OperativeFlight_Segments.FlightBoardPoint = ?
where
	1 = 1  and
	(isnull(?,'')='' or Flt_OperativeFlight_Legs.DateSTD between ? and ?) and
	(isnull(?,'')='' or Flt_OperativeFlight.CarrierCode = ?) and
	(isnull(?,'')='' or Flt_OperativeFlight.FlightKey = ?) and
	(isnull(?,'')='' or cast(Flt_OperativeFlight_Legs.DateSTD as date) = cast(? as date)); 
	
	
With OutboundBookingECCShipmentInfo AS(
	select 
		(select	
			TOP 1 substring(ShipmentRemarks,  len('AGT-') + 1, 3)
		from 
			Shipment_Remarks  
		where  
			Shipment_Remarks.ShipmentNumber = Exp_ShipmentBooking.ShipmentNumber and
			Shipment_Remarks.ShipmentDate = Exp_ShipmentBooking.ShipmentDate and 
			ShipmentRemarks like 'AGT-%') as CustomerCode,
		Exp_ShipmentBooking.ShipmentNumber,
		CASE  
			WHEN Exp_ShipmentBooking.pieces  =   SUM(Exp_ShipmentFlightBookingDetail.BookingPieces) AND						
					Exp_ShipmentBooking.GrossWeight  =  SUM(Exp_ShipmentFlightBookingDetail.BookingWeight) AND 
					Exp_ShipmentFlightBookingDetail.FlightBoardPoint = ? THEN 
				0 
			ELSE 
				1
			END partShipmentFlag,
		null shipmentId,
		Exp_ShipmentBooking.ShipmentDate,
		Exp_ShipmentBooking.Origin,
		Exp_ShipmentBooking.Destination, 
		Exp_ShipmentFlightBookingDetail.BookingPieces as documentPieces,       
		Exp_ShipmentFlightBookingDetail.BookingWeight as documentWeight,
		Exp_ShipmentFlightBookingDetail.FlightId,
		Exp_ShipmentFlightBookingDetail.BookingStatusCode,
		ExportOperativeFlights.FlightKey as outgoingFlightNumber,
		ExportOperativeFlights.DateSTD as dateSTD,
		ExportOperativeFlights.SegmentFlightOffPoint as FlightOffPoint,
		ExportOperativeFlights.ParkingBayDepAircraft AS ParkingBayDepAircraft,
		ExportOperativeFlights.OutboundAircraftRegNo AS OutboundAircraftRegNo,
		null uldNumber,
		(select
				string_agg(Exp_ShipmentFlightBookingDetailSHC.SpecialHandlingCode, ' ')
			from
				Exp_ShipmentFlightBookingDetailSHC
			where
				Exp_ShipmentFlightBookingDetailSHC.FlightBookingId = Exp_ShipmentFlightBookingDetail.FlightBookingId
		) AS SpecialHandlingCode, 
		(select
				string_agg(Mst_SHCHandlingGroup.SHCHandlingGroupCode, ' ')
			from
				Exp_ShipmentFlightBookingDetailSHC inner join
				Mst_AssociateSHCByHandlingGroup
					on Exp_ShipmentFlightBookingDetailSHC.SpecialHandlingCode = Mst_AssociateSHCByHandlingGroup.SpecialHandlingCode inner join
				Mst_SHCHandlingGroup
					on Mst_AssociateSHCByHandlingGroup.MstSHCHandlingGroupID = Mst_SHCHandlingGroup.MstSHCHandlingGroupID
			where
				Exp_ShipmentFlightBookingDetailSHC.FlightBookingId = Exp_ShipmentFlightBookingDetail.FlightBookingId and
				Mst_SHCHandlingGroup.SHCHandlingGroupCode in ('RAC', 'EXP', 'COU','XPS')
		) SHCHandlingGroup,  
		ExportOperativeFlights.CarrierCode,
		IIF(Exp_ShipmentFlightBookingDetail.BookingStatusCode = 'SS', 'CFM','ADV') shipmentStatus,
		null AS noShowFlag,
		null AS advice,
		null AS planningAdviceId,
		'true' fromEcc
	from 
		@ExportOperativeFlights ExportOperativeFlights inner join
		Exp_ShipmentFlightBookingDetail	
			on ExportOperativeFlights.Flight_ID = Exp_ShipmentFlightBookingDetail.FlightId  and
				ExportOperativeFlights.FlightSegmentId = Exp_ShipmentFlightBookingDetail.FlightSegmentId inner join
		Exp_ShipmentBooking
			on Exp_ShipmentFlightBookingDetail.BookingId = Exp_ShipmentBooking.BookingId
	where
		len(Exp_ShipmentBooking.ShipmentNumber) < 20 and
		Exp_ShipmentFlightBookingDetail.BookingStatusCode <> 'XX' and
		Exp_ShipmentFlightBookingDetail.OutwardBookingFlag = 1 and 
		exists(
			select 
				Exp_ShipmentFlightBookingDetailSHC.FlightBookingId 
			from
				Exp_ShipmentFlightBookingDetailSHC inner join
				Mst_AssociateSHCByHandlingGroup 
					on Exp_ShipmentFlightBookingDetailSHC.SpecialHandlingCode = Mst_AssociateSHCByHandlingGroup.SpecialHandlingCode inner join
				Mst_SHCHandlingGroup 
					on Mst_AssociateSHCByHandlingGroup.MstSHCHandlingGroupID = Mst_SHCHandlingGroup.MstSHCHandlingGroupID and 
						Mst_SHCHandlingGroup.SHCHandlingGroupCode in ('RAC', 'EXP', 'COU','XPS')
			where
				Exp_ShipmentFlightBookingDetailSHC.FlightBookingId = Exp_ShipmentFlightBookingDetail.FlightBookingId
		)
	group by 	
		Exp_ShipmentBooking.ShipmentNumber,
		Exp_ShipmentBooking.ShipmentDate,
		Exp_ShipmentBooking.Origin,
		Exp_ShipmentFlightBookingDetail.BookingPieces,       
		Exp_ShipmentFlightBookingDetail.BookingWeight ,
		Exp_ShipmentFlightBookingDetail.FlightId,
		Exp_ShipmentFlightBookingDetail.BookingStatusCode,
		ExportOperativeFlights.FlightKey,
		ExportOperativeFlights.DateSTD ,
		ExportOperativeFlights.SegmentFlightOffPoint,
		ExportOperativeFlights.ParkingBayDepAircraft,
		ExportOperativeFlights.OutboundAircraftRegNo,
		Exp_ShipmentBooking.Destination,
		Exp_ShipmentFlightBookingDetail.FlightBookingId,
		Exp_ShipmentBooking.GrossWeight,
		Exp_ShipmentBooking.Pieces,
		ExportOperativeFlights.CarrierCode,
		Exp_ShipmentFlightBookingDetail.FlightBoardPoint			
), OutboundPrelodgeECCShipmentInfo AS(
	select
		distinct
		Customer_Master.CustomerCode,
		NULL shipmentId,
		Agt_PrelodgeExportDocuments.ShipmentNumber,
		Agt_PrelodgeExportDocuments.ShipmentDate,
		Agt_PrelodgeExportDocuments.DocumentOrigin as Origin,
		Agt_PrelodgeExportDocuments.DocumentDestination as Destination, 
		Agt_PrelodgeExportDocuments.DocumentPieces as  documentPieces,      
		Agt_PrelodgeExportDocuments.DocumentWeight as documentWeight, 				
		isnull(OutboundBookingECCShipmentInfo.FlightId, ExportOperativeFlights.Flight_ID) as FlightId,
		isnull(OutboundBookingECCShipmentInfo.outgoingFlightNumber, Agt_PrelodgeExportDocuments.FlightKey) as outgoingFlightNumber,
		isnull(OutboundBookingECCShipmentInfo.dateSTD, isnull(ExportOperativeFlights.DateSTD, Agt_PrelodgeExportDocuments.FlightDate)) as dateSTD,
		isnull(OutboundBookingECCShipmentInfo.FlightOffPoint, Agt_PrelodgeExportDocuments.FirstOffPoint) FlightOffPoint,
		isnull(OutboundBookingECCShipmentInfo.ParkingBayDepAircraft, ExportOperativeFlights.ParkingBayDepAircraft) ParkingBayDepAircraft,	
		isnull(OutboundBookingECCShipmentInfo.OutboundAircraftRegNo, ExportOperativeFlights.OutboundAircraftRegNo) OutboundAircraftRegNo,
		Agt_PrelodgeExportDocuments_BUP_ULD.UldNumber,
		(
			select
				string_agg(Agt_PrelodgeExportDocumentsSHC.SpecialHandlingCode, ' ')
			from
				Agt_PrelodgeExportDocumentsSHC
			where
				Agt_PrelodgeExportDocumentsSHC.PrelodgeDocumentId = Agt_PrelodgeExportDocuments.PrelodgeDocumentId
		)  AS SpecialHandlingCode,
		(
			select
				string_agg(Mst_SHCHandlingGroup.SHCHandlingGroupCode, ' ')
			from
				Agt_PrelodgeExportDocumentsSHC inner join
				Mst_AssociateSHCByHandlingGroup
					on Agt_PrelodgeExportDocumentsSHC.SpecialHandlingCode = Mst_AssociateSHCByHandlingGroup.SpecialHandlingCode inner join
				Mst_SHCHandlingGroup
					on Mst_AssociateSHCByHandlingGroup.MstSHCHandlingGroupID = Mst_SHCHandlingGroup.MstSHCHandlingGroupID
			where
				Agt_PrelodgeExportDocumentsSHC.PrelodgeDocumentId = Agt_PrelodgeExportDocuments.PrelodgeDocumentId and
				Mst_SHCHandlingGroup.SHCHandlingGroupCode in ('RAC', 'EXP', 'COU','XPS')
		) SHCHandlingGroup,        
		Agt_PrelodgeExportDocuments.CarrierCode,
		IIF(OutboundBookingECCShipmentInfo.BookingStatusCode = 'SS', 'CFM','ADV') shipmentStatus,
		null AS noShowFlag,
		null AS advice,
		null AS planningAdviceId,
		'true' fromEcc
	from
		Agt_PrelodgeExportService inner join
		Agt_PrelodgeExportDocuments 
			on Agt_PrelodgeExportService.PrelodgeServiceId = Agt_PrelodgeExportDocuments.PrelodgeServiceId left join  
		Agt_PrelodgeExportDocuments_BUP_ULD 
			on Agt_PrelodgeExportDocuments.PrelodgeDocumentId = Agt_PrelodgeExportDocuments_BUP_ULD.PrelodgeDocumentId inner join
		Customer_Master
			on Agt_PrelodgeExportDocuments.AgentCustomerID = Customer_Master.Customer_ID left join
		OutboundBookingECCShipmentInfo
			on Agt_PrelodgeExportDocuments.ShipmentNumber = OutboundBookingECCShipmentInfo.ShipmentNumber and
				Agt_PrelodgeExportDocuments.ShipmentDate = OutboundBookingECCShipmentInfo.ShipmentDate left join
		@ExportOperativeFlights ExportOperativeFlights
			on Agt_PrelodgeExportDocuments.FlightKey = ExportOperativeFlights.FlightKey and
				cast(Agt_PrelodgeExportDocuments.FlightDate as date) = cast(ExportOperativeFlights.DateSTD as date)
	where 
		Agt_PrelodgeExportDocuments.ShipmentStatus not in ('OPEN','REJECTED','RETURNED') and
		exists(
			select 
				1 
			from
				Agt_PrelodgeExportDocumentsSHC inner join
				Mst_AssociateSHCByHandlingGroup 
					on Agt_PrelodgeExportDocumentsSHC.SpecialHandlingCode = Mst_AssociateSHCByHandlingGroup.SpecialHandlingCode inner join
				Mst_SHCHandlingGroup 
					on Mst_AssociateSHCByHandlingGroup.MstSHCHandlingGroupID = Mst_SHCHandlingGroup.MstSHCHandlingGroupID and 
						Mst_SHCHandlingGroup.SHCHandlingGroupCode in ('RAC', 'EXP', 'COU','XPS')
			where
				Agt_PrelodgeExportDocumentsSHC.PrelodgeDocumentId = Agt_PrelodgeExportDocuments.PrelodgeDocumentId
			) and 
		(isnull(?,'')='' or cast(isnull(OutboundBookingECCShipmentInfo.dateSTD, Agt_PrelodgeExportDocuments.CreatedDateTime) as date) between ? and ?) and  
		(isnull(?,'')='' or isnull(OutboundBookingECCShipmentInfo.CarrierCode, Agt_PrelodgeExportDocuments.CarrierCode) = ?) and 
		(isnull(?,'')='' or isnull(OutboundBookingECCShipmentInfo.outgoingFlightNumber, Agt_PrelodgeExportDocuments.FlightKey) = ?) and 
		(isnull(?,'')='' or cast(isnull(OutboundBookingECCShipmentInfo.dateSTD, Agt_PrelodgeExportDocuments.FlightDate) as date) = cast(? as date))
			
), OutboundAcceptanceECCShipmentInfo AS(
	select
		distinct
		Exp_eAcceptanceServiceInformation.CustomerCode,
		null ShipmentId,
		null partShipmentFlag,
		Exp_eAcceptanceDocumentInformation.ShipmentNumber,
		Exp_eAcceptanceDocumentInformation.ShipmentDate,
		Exp_eAcceptanceDocumentInformation.Origin,
		Exp_eAcceptanceDocumentInformation.Destination, 
		isnull(OutboundBookingECCShipmentInfo.documentPieces, Exp_eAcceptanceDocumentInformation.Piece) as documentPieces,       
		isnull(OutboundBookingECCShipmentInfo.documentWeight, Exp_eAcceptanceDocumentInformation.Weight) as documentWeight,
		OutboundBookingECCShipmentInfo.FlightId as FlightId,
		isnull(OutboundBookingECCShipmentInfo.outgoingFlightNumber,Exp_eAcceptanceDocumentInformation.FirstBookedFlight) as outgoingFlightNumber,
		isnull(OutboundBookingECCShipmentInfo.dateSTD , ExportOperativeFlights.DateSTD) as dateSTD,
		isnull(OutboundBookingECCShipmentInfo.FlightOffPoint, Exp_eAcceptanceDocumentInformation.FirstOffPoint) FlightOffPoint,
		isnull(OutboundBookingECCShipmentInfo.ParkingBayDepAircraft, ExportOperativeFlights.ParkingBayDepAircraft) as ParkingBayDepAircraft,
		isnull(OutboundBookingECCShipmentInfo.OutboundAircraftRegNo, ExportOperativeFlights.OutboundAircraftRegNo) as OutboundAircraftRegNo,
		Exp_eAcceptanceWeighing.ULDNumber as uldNumber,	
		(
			select
				string_agg(Exp_eAcceptanceDocumentInfoSHC.SpecialHandlingCode, ' ')
			from
				Exp_eAcceptanceDocumentInfoSHC
			where
				Exp_eAcceptanceDocumentInfoSHC.DocumentInformationId = Exp_eAcceptanceDocumentInformation.DocumentInformationId
		)  AS SpecialHandlingCode,
		(
			select
				string_agg(Mst_SHCHandlingGroup.SHCHandlingGroupCode, ' ')
			from
				Exp_eAcceptanceDocumentInfoSHC inner join
				Mst_AssociateSHCByHandlingGroup
					on Exp_eAcceptanceDocumentInfoSHC.SpecialHandlingCode = Mst_AssociateSHCByHandlingGroup.SpecialHandlingCode inner join
				Mst_SHCHandlingGroup
					on Mst_AssociateSHCByHandlingGroup.MstSHCHandlingGroupID = Mst_SHCHandlingGroup.MstSHCHandlingGroupID
			where
				Exp_eAcceptanceDocumentInfoSHC.DocumentInformationId = Exp_eAcceptanceDocumentInformation.DocumentInformationId and
				Mst_SHCHandlingGroup.SHCHandlingGroupCode in ('RAC', 'EXP', 'COU','XPS')
		) SHCHandlingGroup,         
		Exp_eAcceptanceDocumentInformation.CarrierCode,
		IIF(OutboundBookingECCShipmentInfo.BookingStatusCode = 'SS', 'CFM','ADV') shipmentStatus,
		null AS noShowFlag,
		null AS advice,
		null AS planningAdviceId,
		'true' fromEcc
	from
		@ExportOperativeFlights ExportOperativeFlights inner join
		Exp_eAcceptanceDocumentInformation 
			on 	ExportOperativeFlights.FlightKey=Exp_eAcceptanceDocumentInformation.FirstBookedFlight and 
				Exp_eAcceptanceDocumentInformation.Status != 'REJECTED' and 
				cast(ExportOperativeFlights.DateSTD as date) = cast(Exp_eAcceptanceDocumentInformation.FirstBookedFlightDate as date)  inner join
		Exp_eAcceptanceServiceInformation
			on	Exp_eAcceptanceDocumentInformation.ServiceInformationId = Exp_eAcceptanceServiceInformation.ServiceInformationId left join 
		Exp_eAcceptanceWeighing 
			on 	Exp_eAcceptanceDocumentInformation.DocumentInformationId = Exp_eAcceptanceWeighing.DocumentInformationId left join
		OutboundBookingECCShipmentInfo
			on 	Exp_eAcceptanceDocumentInformation.ShipmentNumber = OutboundBookingECCShipmentInfo.ShipmentNumber and
				Exp_eAcceptanceDocumentInformation.ShipmentDate = OutboundBookingECCShipmentInfo.ShipmentDate
	where 
		Exp_eAcceptanceServiceInformation.Status not in ('OPEN', 'REJECTED', 'RETURNED') and 
		(isnull(?,'')='' or isnull(isnull(OutboundBookingECCShipmentInfo.dateSTD ,
			 						Exp_eAcceptanceDocumentInformation.FirstBookedFlightDate),
										Exp_eAcceptanceDocumentInformation.CreatedDateTime) between ? and ?) and 
		(isnull(?,'')='' or isnull(OutboundBookingECCShipmentInfo.CarrierCode, Exp_eAcceptanceDocumentInformation.CarrierCode) = ?) and (isnull(?,'')='' or isnull(OutboundBookingECCShipmentInfo.outgoingFlightNumber, Exp_eAcceptanceDocumentInformation.FirstBookedFlight) = ?) and (isnull(?,'')='' or cast(isnull(OutboundBookingECCShipmentInfo.dateSTD, Exp_eAcceptanceDocumentInformation.FirstBookedFlightDate) as date) = cast(? as date))
),OutboundOfflodedECCShipmentInfo AS(
	select		
		Shipment_Master.ShipmentNumber,
		Shipment_Master.PartShipment partShipmentFlag,
		null shipmentId,
		Shipment_Master.ShipmentDate,
		Shipment_Master.Origin,
		Shipment_Master.Destination,
		Exp_OffloadShipmentInfo.Pieces documentPieces,
		Exp_OffloadShipmentInfo.Weight documentWeight,
		ExportOperativeFlights.Flight_ID as FlightId,
		ExportOperativeFlights.FlightKey as outgoingFlightNumber,
		ExportOperativeFlights.DateSTD as dateSTD,
		ExportOperativeFlights.SegmentFlightOffPoint as FlightOffPoint,		
		ExportOperativeFlights.ParkingBayDepAircraft as ParkingBayDepAircraft,
		ExportOperativeFlights.OutboundAircraftRegNo as OutboundAircraftRegNo,
		Exp_OffloadULDInfo.ULDNumber as uldNumber,
		(select
				string_agg(Exp_OffloadShipmentSHCInfo.SpecialHandlingCode, ' ')					
			from	
				Exp_OffloadShipmentSHCInfo
			where
				Exp_OffloadShipmentSHCInfo.ExpOffloadShipmentInfoId = Exp_OffloadShipmentInfo.ExpOffloadShipmentInfoId
		) as SpecialHandlingCode,
		(select
				string_agg(Mst_SHCHandlingGroup.SHCHandlingGroupCode, ' ')
			from
				Exp_OffloadShipmentSHCInfo inner join
				Mst_AssociateSHCByHandlingGroup
					on Exp_OffloadShipmentSHCInfo.SpecialHandlingCode = Mst_AssociateSHCByHandlingGroup.SpecialHandlingCode inner join
				Mst_SHCHandlingGroup
					on Mst_AssociateSHCByHandlingGroup.MstSHCHandlingGroupID = Mst_SHCHandlingGroup.MstSHCHandlingGroupID
			where
				Exp_OffloadShipmentSHCInfo.ExpOffloadShipmentInfoId = Exp_OffloadShipmentInfo.ExpOffloadShipmentInfoId and
				Mst_SHCHandlingGroup.SHCHandlingGroupCode in ('RAC', 'EXP', 'COU','XPS')
		) SHCHandlingGroup, 
		ExportOperativeFlights.CarrierCode,
		'OFD' shipmentStatus,
		null AS noShowFlag,
		null AS advice,
		null AS planningAdviceId,
		'true' fromEcc
	from 
		@ExportOperativeFlights ExportOperativeFlights inner join
		Exp_OffloadULDInfo
			on ExportOperativeFlights.FlightSegmentId = Exp_OffloadULDInfo.FlightSegmentId inner join
		Exp_OffloadShipmentInfo
			on Exp_OffloadULDInfo.ExpOffloadULDInfoId = Exp_OffloadShipmentInfo.ExpOffloadULDInfoId inner join
		Shipment_Master
			on Exp_OffloadShipmentInfo.ShipmentId = Shipment_Master.ShipmentId
	where 
		Exp_OffloadULDInfo.HandlingAreaCode = 'ECC' and
		exists(
			select 
				1
			from
				Exp_OffloadShipmentSHCInfo inner join						
				Mst_AssociateSHCByHandlingGroup
					on Exp_OffloadShipmentSHCInfo.SpecialHandlingCode = Mst_AssociateSHCByHandlingGroup.SpecialHandlingCode inner join
				Mst_SHCHandlingGroup
					on Mst_AssociateSHCByHandlingGroup.MstSHCHandlingGroupID = Mst_SHCHandlingGroup.MstSHCHandlingGroupID
			where
				Exp_OffloadShipmentSHCInfo.ExpOffloadShipmentInfoId = Exp_OffloadShipmentInfo.ExpOffloadShipmentInfoId and
				Mst_SHCHandlingGroup.SHCHandlingGroupCode in ('RAC', 'EXP', 'COU','XPS')
		)	

), OutboundManifestedECCShipmentInfo AS(
	select		
		Shipment_Master.ShipmentNumber,
		null shipmentId,
		Shipment_Master.PartShipment partShipmentFlag,
		Shipment_Master.ShipmentDate,
		Shipment_Master.Origin,
		Shipment_Master.Destination,
		Exp_LoadedShipmentInfo.Pieces documentPieces,
		Exp_LoadedShipmentInfo.Weight documentWeight,
		ExportOperativeFlights.Flight_ID as FlightId,
		ExportOperativeFlights.FlightKey as outgoingFlightNumber,
		ExportOperativeFlights.DateSTD as dateSTD,
		ExportOperativeFlights.SegmentFlightOffPoint as FlightOffPoint,		
		ExportOperativeFlights.ParkingBayDepAircraft as ParkingBayDepAircraft,
		ExportOperativeFlights.OutboundAircraftRegNo as OutboundAircraftRegNo,
		Exp_AssignedULDTrolleyToFlight.ULDTrolleyNumber as uldNumber,
		(select
				string_agg(Exp_LoadedShipmentSHCInfo.SpecialHandlingCode, ' ')					
			from	
				Exp_LoadedShipmentSHCInfo
			where
				Exp_LoadedShipmentSHCInfo.LoadedShipmentInfoId = Exp_LoadedShipmentInfo.LoadedShipmentInfoId
		) as SpecialHandlingCode,
		(select
				string_agg(Mst_SHCHandlingGroup.SHCHandlingGroupCode, ' ')
			from
				Exp_LoadedShipmentSHCInfo inner join
				Mst_AssociateSHCByHandlingGroup
					on Exp_LoadedShipmentSHCInfo.SpecialHandlingCode = Mst_AssociateSHCByHandlingGroup.SpecialHandlingCode inner join
				Mst_SHCHandlingGroup
					on Mst_AssociateSHCByHandlingGroup.MstSHCHandlingGroupID = Mst_SHCHandlingGroup.MstSHCHandlingGroupID
			where
				Exp_LoadedShipmentSHCInfo.LoadedShipmentInfoId = Exp_LoadedShipmentInfo.LoadedShipmentInfoId and
				Mst_SHCHandlingGroup.SHCHandlingGroupCode in ('RAC', 'EXP', 'COU','XPS')
		) SHCHandlingGroup, 
		ExportOperativeFlights.CarrierCode,
		case
			when ExportOperativeFlights.FlightDepartedOn is not null then
				'DEP'
			when ExportOperativeFlights.ManifestCompletedAt is not null then
				'MAN'
			else
				'CFM'
			end as shipmentStatus,
		null AS noShowFlag,
		null AS advice,
		null AS planningAdviceId,
		'true' fromEcc
	from 
		@ExportOperativeFlights ExportOperativeFlights inner join
		Exp_AssignedULDTrolleyToFlight 
			on ExportOperativeFlights.FlightSegmentId = Exp_AssignedULDTrolleyToFlight.FlightSegmentId inner join
		Exp_LoadedShipmentInfo
			on Exp_AssignedULDTrolleyToFlight.AssUldTrolleyId = Exp_LoadedShipmentInfo.AssUldTrolleyId inner join
		Shipment_Master
			on Exp_LoadedShipmentInfo.ShipmentId = Shipment_Master.ShipmentId
	where 				
		(exists(
			select 
				1
			from
				Exp_LoadedShipmentSHCInfo inner join						
				Mst_AssociateSHCByHandlingGroup
					on Exp_LoadedShipmentSHCInfo.SpecialHandlingCode = Mst_AssociateSHCByHandlingGroup.SpecialHandlingCode inner join
				Mst_SHCHandlingGroup
					on Mst_AssociateSHCByHandlingGroup.MstSHCHandlingGroupID = Mst_SHCHandlingGroup.MstSHCHandlingGroupID
			where
				Exp_LoadedShipmentSHCInfo.LoadedShipmentInfoId = Exp_LoadedShipmentInfo.LoadedShipmentInfoId and
				Mst_SHCHandlingGroup.SHCHandlingGroupCode in ('RAC', 'EXP', 'COU','XPS')
			) OR exists(
				select 
					1
				from
					Shipment_MasterSHC inner join						
					Mst_AssociateSHCByHandlingGroup
						on Shipment_MasterSHC.SpecialHandlingCode = Mst_AssociateSHCByHandlingGroup.SpecialHandlingCode inner join
					Mst_SHCHandlingGroup
						on Mst_AssociateSHCByHandlingGroup.MstSHCHandlingGroupID = Mst_SHCHandlingGroup.MstSHCHandlingGroupID
				where
					Shipment_MasterSHC.ShipmentId = Shipment_Master.ShipmentId and
					Mst_SHCHandlingGroup.SHCHandlingGroupCode in ('RAC', 'EXP', 'COU','XPS')				
			)
		)

), OutboundECCPlanningAdviceWithShipments AS(
	select
		distinct
		Exp_AgentAcceptancePlanningShipments.CustomerCode,
		Exp_AgentAcceptancePlanningShipments.ExpAgentAcceptancePlanningShipmentsId shipmentId,
		Exp_AgentAcceptancePlanningShipments.ShipmentNumber,
		Exp_AgentAcceptancePlanningShipments.ShipmentDate,
		null 'Origin',
		null Destination,
		0 partShipmentFlag,
		Exp_AgentAcceptancePlanningShipments.Pieces AS documentPieces,
		Exp_AgentAcceptancePlanningShipments.Weight AS documentWeight,
		ExportOperativeFlights.Flight_ID as FlightId,
		ExportOperativeFlights.FlightKey as outgoingFlightNumber,
		ExportOperativeFlights.dateSTD as dateSTD, 
		isnull(Exp_AgentAcceptancePlanningAdvice.OffPoint, ExportOperativeFlights.SegmentFlightOffPoint) AS FlightOffPoint,
		ExportOperativeFlights.ParkingBayDepAircraft AS ParkingBayDepAircraft,
		ExportOperativeFlights.OutboundAircraftRegNo AS OutboundAircraftRegNo,
		Exp_AgentAcceptancePlanningShipments.AllocatedULD as UldNumber,
		(
			select
			string_agg(Exp_AgentAcceptancePlanningWorksheetShipmentSHC.SpecialHandlingCode, ' ')
		
			from
				Exp_AgentAcceptancePlanningWorksheetShipmentSHC 
			where
				Exp_AgentAcceptancePlanningWorksheetShipmentSHC.ExpAgentAcceptancePlanningShipmentsId = Exp_AgentAcceptancePlanningShipments.ExpAgentAcceptancePlanningShipmentsId
		) AS SpecialHandlingCode,
		(
			select
				string_agg(Mst_SHCHandlingGroup.SHCHandlingGroupCode, ' ')
			from
				Exp_AgentAcceptancePlanningWorksheetShipmentSHC inner join
				Mst_AssociateSHCByHandlingGroup
					on Exp_AgentAcceptancePlanningWorksheetShipmentSHC.SpecialHandlingCode = Mst_AssociateSHCByHandlingGroup.SpecialHandlingCode inner join
				Mst_SHCHandlingGroup
					on Mst_AssociateSHCByHandlingGroup.MstSHCHandlingGroupID = Mst_SHCHandlingGroup.MstSHCHandlingGroupID
			where
				Exp_AgentAcceptancePlanningWorksheetShipmentSHC.ExpAgentAcceptancePlanningShipmentsId = Exp_AgentAcceptancePlanningShipments.ExpAgentAcceptancePlanningShipmentsId
		) SHCHandlingGroup,
		ExportOperativeFlights.CarrierCode,
		IIF(OutboundBookingECCShipmentInfo.BookingStatusCode = 'SS', 'CFM',Exp_AgentAcceptancePlanningShipments.ShipmentStatus) shipmentStatus,
		Exp_AgentAcceptancePlanningShipments.NoShowFlag AS noShowFlag,
		Exp_AgentAcceptancePlanningAdvice.Advice AS advice,
		Exp_AgentAcceptancePlanningAdvice.ExpAgentAcceptancePlanningAdviceId AS planningAdviceId,
		'true' fromEcc
	from 
		@ExportOperativeFlights ExportOperativeFlights inner join
		Exp_AgentAcceptancePlanningAdvice 
			on ExportOperativeFlights.Flight_ID = Exp_AgentAcceptancePlanningAdvice.FlightId inner join
		Exp_AgentAcceptancePlanningShipments 
			on Exp_AgentAcceptancePlanningAdvice.ExpAgentAcceptancePlanningAdviceId = Exp_AgentAcceptancePlanningShipments.ExpAgentAcceptancePlanningAdviceId left join
		OutboundBookingECCShipmentInfo
			on Exp_AgentAcceptancePlanningShipments.ShipmentNumber = OutboundBookingECCShipmentInfo.ShipmentNumber and
				Exp_AgentAcceptancePlanningShipments.ShipmentDate = OutboundBookingECCShipmentInfo.ShipmentDate	

),OutboundECCPlanningAdviceWithoutShipments as(
	select 
		distinct
		null as ShipmentNumber,
		null as ShipmentId,
		null AS ShipmentDate,
		NULL 'Origin',
		NULL Destination,
		null AS documentPieces,
		null AS documentWeight,
		0 partShipmentFlag,
		ExportOperativeFlights.Flight_ID as FlightId,
		ExportOperativeFlights.FlightKey as outgoingFlightNumber,
		ExportOperativeFlights.DateSTD as dateSTD,
		isnull(Exp_AgentAcceptancePlanningAdvice.OffPoint,ExportOperativeFlights.SegmentFlightOffPoint) AS FlightOffPoint,
		ExportOperativeFlights.ParkingBayDepAircraft AS ParkingBayDepAircraft,
		ExportOperativeFlights.OutboundAircraftRegNo AS OutboundAircraftRegNo,
		null AS UldNumber,
		null  AS SpecialHandlingCode,
		null as SHCHandlingGroup,
		ExportOperativeFlights.CarrierCode,
		null AS shipmentStatus,
		null AS noShowFlag,
		Exp_AgentAcceptancePlanningAdvice.Advice AS advice,
		Exp_AgentAcceptancePlanningAdvice.ExpAgentAcceptancePlanningAdviceId AS planningAdviceId,
		'true' fromEcc
	from 
		@ExportOperativeFlights ExportOperativeFlights inner join
		Exp_AgentAcceptancePlanningAdvice
			on ExportOperativeFlights.Flight_ID = Exp_AgentAcceptancePlanningAdvice.FlightID	
)
select
	isnull((select
				TOP 1 Exp_eAcceptanceServiceInformation.CustomerCode
			from
				Exp_eAcceptanceDocumentInformation inner join
				Exp_eAcceptanceServiceInformation
					on Exp_eAcceptanceDocumentInformation.ServiceInformationId = Exp_eAcceptanceServiceInformation.ServiceInformationId
			where
				Exp_eAcceptanceDocumentInformation.ShipmentNumber = OutboundECCPlanningAdviceInfo.ShipmentNumber and
				Exp_eAcceptanceDocumentInformation.ShipmentDate = OutboundECCPlanningAdviceInfo.ShipmentDate and
				Exp_eAcceptanceDocumentInformation.Status not in ('REJECTED', 'RETURNED')), OutboundECCPlanningAdviceInfo.CustomerCode) as CustomerCode,
	OutboundECCPlanningAdviceInfo.ShipmentNumber,
	OutboundECCPlanningAdviceInfo.ShipmentId,
	OutboundECCPlanningAdviceInfo.ShipmentDate,
	OutboundECCPlanningAdviceInfo.Origin,
	OutboundECCPlanningAdviceInfo.Destination,
	OutboundECCPlanningAdviceInfo.documentPieces,
	OutboundECCPlanningAdviceInfo.documentWeight,
	Shipment_FreightWayBill.Pieces as fwbPieces,
	Shipment_FreightWayBill.Weight as fwbWeight,
	OutboundECCPlanningAdviceInfo.outgoingFlightNumber,
	OutboundECCPlanningAdviceInfo.dateSTD,
	OutboundECCPlanningAdviceInfo.FlightOffPoint,
	OutboundECCPlanningAdviceInfo.ParkingBayDepAircraft,
	OutboundECCPlanningAdviceInfo.OutboundAircraftRegNo,
	OutboundECCPlanningAdviceInfo.UldNumber,
	OutboundECCPlanningAdviceInfo.SpecialHandlingCode,
	OutboundECCPlanningAdviceInfo.SHCHandlingGroup,
	OutboundECCPlanningAdviceInfo.CarrierCode,
	OutboundECCPlanningAdviceInfo.ShipmentStatus,
	OutboundECCPlanningAdviceInfo.NoShowFlag,
	OutboundECCPlanningAdviceInfo.Advice,
	OutboundECCPlanningAdviceInfo.PlanningAdviceId,
	OutboundECCPlanningAdviceInfo.FromEcc,
	concat(concat(cast(OutboundECCPlanningAdviceInfo.dateSTD as date),''),
	concat(cast(OutboundECCPlanningAdviceInfo.dateSTD as Time),''),
	isnull(OutboundECCPlanningAdviceInfo.outgoingFlightNumber, 'XXNoFlight'), 
	iif(OutboundECCPlanningAdviceInfo.outgoingFlightNumber IS NOT NULL,
	concat(OutboundECCPlanningAdviceInfo.FlightOffPoint, '-'), '')) "groupField",
	string_agg(Resource_StaffShiftInfo.StaffIdNumber , ',') as checker,
	ECCPhysicallyAcceptedShipments.AcceptedPieces,
	ECCPhysicallyAcceptedShipments.AcceptedWeight,
	OutboundECCPlanningAdviceInfo.partShipmentFlag
from(
	select
		OutboundAcceptanceECCShipmentInfo.CustomerCode,
		OutboundManifestedECCShipmentInfo.ShipmentNumber,
		OutboundManifestedECCShipmentInfo.ShipmentId,
		OutboundManifestedECCShipmentInfo.ShipmentDate,
		OutboundManifestedECCShipmentInfo.Origin,
		OutboundManifestedECCShipmentInfo.Destination,
		OutboundManifestedECCShipmentInfo.documentPieces,
		OutboundManifestedECCShipmentInfo.documentWeight,
		OutboundManifestedECCShipmentInfo.FlightId,
		OutboundManifestedECCShipmentInfo.outgoingFlightNumber,
		OutboundManifestedECCShipmentInfo.dateSTD,
		OutboundManifestedECCShipmentInfo.FlightOffPoint,
		OutboundManifestedECCShipmentInfo.ParkingBayDepAircraft,
		OutboundManifestedECCShipmentInfo.OutboundAircraftRegNo,
		OutboundManifestedECCShipmentInfo.UldNumber,
		OutboundManifestedECCShipmentInfo.SpecialHandlingCode,
		OutboundManifestedECCShipmentInfo.SHCHandlingGroup,
		OutboundManifestedECCShipmentInfo.CarrierCode,
		OutboundManifestedECCShipmentInfo.ShipmentStatus,
		OutboundManifestedECCShipmentInfo.NoShowFlag,
		OutboundManifestedECCShipmentInfo.Advice,
		OutboundManifestedECCShipmentInfo.PlanningAdviceId,
		OutboundManifestedECCShipmentInfo.FromEcc,
		OutboundManifestedECCShipmentInfo.partShipmentFlag
	from
		OutboundManifestedECCShipmentInfo left join
		OutboundAcceptanceECCShipmentInfo
			on OutboundManifestedECCShipmentInfo.ShipmentNumber = OutboundAcceptanceECCShipmentInfo.ShipmentNumber and
				OutboundManifestedECCShipmentInfo.ShipmentDate = OutboundAcceptanceECCShipmentInfo.ShipmentDate
	union all
	select
		null CustomerCode,
		OutboundECCPlanningAdviceWithoutShipments.ShipmentNumber,
		OutboundECCPlanningAdviceWithoutShipments.ShipmentId,
		OutboundECCPlanningAdviceWithoutShipments.ShipmentDate,
		OutboundECCPlanningAdviceWithoutShipments.Origin,
		OutboundECCPlanningAdviceWithoutShipments.Destination,
		OutboundECCPlanningAdviceWithoutShipments.documentPieces,
		OutboundECCPlanningAdviceWithoutShipments.documentWeight,
		OutboundECCPlanningAdviceWithoutShipments.FlightId,
		OutboundECCPlanningAdviceWithoutShipments.outgoingFlightNumber,
		OutboundECCPlanningAdviceWithoutShipments.dateSTD,
		OutboundECCPlanningAdviceWithoutShipments.FlightOffPoint,
		OutboundECCPlanningAdviceWithoutShipments.ParkingBayDepAircraft,
		OutboundECCPlanningAdviceWithoutShipments.OutboundAircraftRegNo,
		OutboundECCPlanningAdviceWithoutShipments.UldNumber,
		OutboundECCPlanningAdviceWithoutShipments.SpecialHandlingCode,
		OutboundECCPlanningAdviceWithoutShipments.SHCHandlingGroup,
		OutboundECCPlanningAdviceWithoutShipments.CarrierCode,
		OutboundECCPlanningAdviceWithoutShipments.ShipmentStatus,
		OutboundECCPlanningAdviceWithoutShipments.NoShowFlag,
		OutboundECCPlanningAdviceWithoutShipments.Advice,
		OutboundECCPlanningAdviceWithoutShipments.PlanningAdviceId,
		OutboundECCPlanningAdviceWithoutShipments.FromEcc,
		OutboundECCPlanningAdviceWithoutShipments.partShipmentFlag
	from
		OutboundECCPlanningAdviceWithoutShipments 
	where
		not exists(
			select
				null
			from
				OutboundManifestedECCShipmentInfo
			where
				OutboundManifestedECCShipmentInfo.ShipmentNumber = OutboundECCPlanningAdviceWithoutShipments.ShipmentNumber and
				OutboundManifestedECCShipmentInfo.ShipmentDate = OutboundECCPlanningAdviceWithoutShipments.ShipmentDate	 and
				isnull(OutboundManifestedECCShipmentInfo.FlightId, 0) = isnull(OutboundECCPlanningAdviceWithoutShipments.FlightId, 0)
		)
	union all
	select
		OutboundECCPlanningAdviceWithShipments.CustomerCode,
		OutboundECCPlanningAdviceWithShipments.ShipmentNumber,
		OutboundECCPlanningAdviceWithShipments.ShipmentId,
		OutboundECCPlanningAdviceWithShipments.ShipmentDate,
		OutboundECCPlanningAdviceWithShipments.Origin,
		OutboundECCPlanningAdviceWithShipments.Destination,
		OutboundECCPlanningAdviceWithShipments.documentPieces,
		OutboundECCPlanningAdviceWithShipments.documentWeight,
		OutboundECCPlanningAdviceWithShipments.FlightId,
		OutboundECCPlanningAdviceWithShipments.outgoingFlightNumber,
		OutboundECCPlanningAdviceWithShipments.dateSTD,
		OutboundECCPlanningAdviceWithShipments.FlightOffPoint,
		OutboundECCPlanningAdviceWithShipments.ParkingBayDepAircraft,
		OutboundECCPlanningAdviceWithShipments.OutboundAircraftRegNo,
		OutboundECCPlanningAdviceWithShipments.UldNumber,
		OutboundECCPlanningAdviceWithShipments.SpecialHandlingCode,
		OutboundECCPlanningAdviceWithShipments.SHCHandlingGroup,
		OutboundECCPlanningAdviceWithShipments.CarrierCode,
		OutboundECCPlanningAdviceWithShipments.ShipmentStatus,
		OutboundECCPlanningAdviceWithShipments.NoShowFlag,
		OutboundECCPlanningAdviceWithShipments.Advice,
		OutboundECCPlanningAdviceWithShipments.PlanningAdviceId,
		OutboundECCPlanningAdviceWithShipments.FromEcc,
		OutboundECCPlanningAdviceWithShipments.partShipmentFlag
	from
		OutboundECCPlanningAdviceWithShipments
	where
		not exists(
			select
				null
			from
				OutboundManifestedECCShipmentInfo
			where
				OutboundManifestedECCShipmentInfo.ShipmentNumber = OutboundECCPlanningAdviceWithShipments.ShipmentNumber and
				OutboundManifestedECCShipmentInfo.ShipmentDate = OutboundECCPlanningAdviceWithShipments.ShipmentDate	 and
				isnull(OutboundManifestedECCShipmentInfo.FlightId, 0) = isnull(OutboundECCPlanningAdviceWithShipments.FlightId, 0)
		)
	union
	select
		OutboundAcceptanceECCShipmentInfo.CustomerCode,
		OutboundAcceptanceECCShipmentInfo.ShipmentNumber,
		OutboundAcceptanceECCShipmentInfo.ShipmentId,
		OutboundAcceptanceECCShipmentInfo.ShipmentDate,
		OutboundAcceptanceECCShipmentInfo.Origin,
		OutboundAcceptanceECCShipmentInfo.Destination,
		OutboundAcceptanceECCShipmentInfo.documentPieces,
		OutboundAcceptanceECCShipmentInfo.documentWeight,
		OutboundAcceptanceECCShipmentInfo.FlightId,
		OutboundAcceptanceECCShipmentInfo.outgoingFlightNumber,
		OutboundAcceptanceECCShipmentInfo.dateSTD,
		OutboundAcceptanceECCShipmentInfo.FlightOffPoint,
		OutboundAcceptanceECCShipmentInfo.ParkingBayDepAircraft,
		OutboundAcceptanceECCShipmentInfo.OutboundAircraftRegNo,
		case
			when len(OutboundAcceptanceECCShipmentInfo.UldNumber) = 0 then
				null
			else
				OutboundAcceptanceECCShipmentInfo.UldNumber
			end as UldNumber,
		OutboundAcceptanceECCShipmentInfo.SpecialHandlingCode,
		OutboundAcceptanceECCShipmentInfo.SHCHandlingGroup,
		OutboundAcceptanceECCShipmentInfo.CarrierCode,
		OutboundAcceptanceECCShipmentInfo.ShipmentStatus,
		OutboundAcceptanceECCShipmentInfo.NoShowFlag,
		OutboundAcceptanceECCShipmentInfo.Advice,
		OutboundAcceptanceECCShipmentInfo.PlanningAdviceId,
		OutboundAcceptanceECCShipmentInfo.FromEcc,
		isnull(OutboundAcceptanceECCShipmentInfo.partShipmentFlag, 0) as partShipmentFlag
	from
		OutboundAcceptanceECCShipmentInfo
	where	
		not exists(
			select
				null
			from	
				OutboundECCPlanningAdviceWithShipments
			where
				OutboundECCPlanningAdviceWithShipments.ShipmentNumber = OutboundAcceptanceECCShipmentInfo.ShipmentNumber and
				OutboundECCPlanningAdviceWithShipments.ShipmentDate = OutboundAcceptanceECCShipmentInfo.ShipmentDate
		) and not exists(
			select
				null
			from	
				OutboundManifestedECCShipmentInfo
			where
				OutboundManifestedECCShipmentInfo.ShipmentNumber = OutboundAcceptanceECCShipmentInfo.ShipmentNumber and
				OutboundManifestedECCShipmentInfo.ShipmentDate = OutboundAcceptanceECCShipmentInfo.ShipmentDate
		) and not exists(
			select
				null
			from	
				OutboundOfflodedECCShipmentInfo
			where
				OutboundOfflodedECCShipmentInfo.ShipmentNumber = OutboundAcceptanceECCShipmentInfo.ShipmentNumber and
				OutboundOfflodedECCShipmentInfo.ShipmentDate = OutboundAcceptanceECCShipmentInfo.ShipmentDate
		)				
	union
	select
		OutboundPrelodgeECCShipmentInfo.CustomerCode,
		OutboundPrelodgeECCShipmentInfo.ShipmentNumber,
		OutboundPrelodgeECCShipmentInfo.ShipmentId,
		OutboundPrelodgeECCShipmentInfo.ShipmentDate,
		OutboundPrelodgeECCShipmentInfo.Origin,
		OutboundPrelodgeECCShipmentInfo.Destination,
		OutboundPrelodgeECCShipmentInfo.documentPieces,
		OutboundPrelodgeECCShipmentInfo.documentWeight,
		OutboundPrelodgeECCShipmentInfo.FlightId,
		OutboundPrelodgeECCShipmentInfo.outgoingFlightNumber,
		OutboundPrelodgeECCShipmentInfo.dateSTD,
		OutboundPrelodgeECCShipmentInfo.FlightOffPoint,
		OutboundPrelodgeECCShipmentInfo.ParkingBayDepAircraft,
		OutboundBookingECCShipmentInfo.OutboundAircraftRegNo,
		case
			when len(OutboundPrelodgeECCShipmentInfo.UldNumber) = 0 then
				null
			else
				OutboundPrelodgeECCShipmentInfo.UldNumber
			end as UldNumber,
		OutboundPrelodgeECCShipmentInfo.SpecialHandlingCode,
		OutboundPrelodgeECCShipmentInfo.SHCHandlingGroup,
		OutboundPrelodgeECCShipmentInfo.CarrierCode,
		OutboundPrelodgeECCShipmentInfo.ShipmentStatus,
		OutboundPrelodgeECCShipmentInfo.NoShowFlag,
		OutboundPrelodgeECCShipmentInfo.Advice,
		OutboundPrelodgeECCShipmentInfo.PlanningAdviceId,
		OutboundPrelodgeECCShipmentInfo.FromEcc,
		isnull(OutboundBookingECCShipmentInfo.partShipmentFlag, 0) as partShipmentFlag
	from
		OutboundPrelodgeECCShipmentInfo left join
		OutboundBookingECCShipmentInfo
			on OutboundBookingECCShipmentInfo.ShipmentNumber = OutboundPrelodgeECCShipmentInfo.ShipmentNumber and
				OutboundBookingECCShipmentInfo.ShipmentDate = OutboundPrelodgeECCShipmentInfo.ShipmentDate
	where
		not exists(
			select
				null	
			from	
				OutboundAcceptanceECCShipmentInfo
			where
				OutboundAcceptanceECCShipmentInfo.ShipmentNumber = OutboundPrelodgeECCShipmentInfo.ShipmentNumber and
				OutboundAcceptanceECCShipmentInfo.ShipmentDate = OutboundPrelodgeECCShipmentInfo.ShipmentDate and
				OutboundAcceptanceECCShipmentInfo.outgoingFlightNumber = isnull(OutboundBookingECCShipmentInfo.outgoingFlightNumber, OutboundPrelodgeECCShipmentInfo.outgoingFlightNumber) and
				OutboundAcceptanceECCShipmentInfo.dateSTD =	isnull(OutboundBookingECCShipmentInfo.dateSTD, OutboundPrelodgeECCShipmentInfo.dateSTD)
		
		) and not exists(
			select
				null
			from	
				OutboundECCPlanningAdviceWithShipments
			where
				OutboundECCPlanningAdviceWithShipments.ShipmentNumber = OutboundPrelodgeECCShipmentInfo.ShipmentNumber and
				OutboundECCPlanningAdviceWithShipments.ShipmentDate = OutboundPrelodgeECCShipmentInfo.ShipmentDate
		) and not exists(
			select
				null
			from	
				OutboundManifestedECCShipmentInfo
			where
				OutboundManifestedECCShipmentInfo.ShipmentNumber = OutboundPrelodgeECCShipmentInfo.ShipmentNumber and
				OutboundManifestedECCShipmentInfo.ShipmentDate = OutboundPrelodgeECCShipmentInfo.ShipmentDate and
				isnull(OutboundManifestedECCShipmentInfo.FlightId, 0) = isnull(OutboundPrelodgeECCShipmentInfo.FlightId, 0)
		)
	union
	select
		OutboundBookingECCShipmentInfo.CustomerCode,
		OutboundBookingECCShipmentInfo.ShipmentNumber,
		OutboundBookingECCShipmentInfo.ShipmentId,
		OutboundBookingECCShipmentInfo.ShipmentDate,
		OutboundBookingECCShipmentInfo.Origin,
		OutboundBookingECCShipmentInfo.Destination,
		OutboundBookingECCShipmentInfo.documentPieces,
		OutboundBookingECCShipmentInfo.documentWeight,
		OutboundBookingECCShipmentInfo.FlightId,
		OutboundBookingECCShipmentInfo.outgoingFlightNumber,
		OutboundBookingECCShipmentInfo.dateSTD,
		OutboundBookingECCShipmentInfo.FlightOffPoint,
		OutboundBookingECCShipmentInfo.ParkingBayDepAircraft,
		OutboundBookingECCShipmentInfo.OutboundAircraftRegNo,
		OutboundBookingECCShipmentInfo.UldNumber,
		OutboundBookingECCShipmentInfo.SpecialHandlingCode,
		OutboundBookingECCShipmentInfo.SHCHandlingGroup,
		OutboundBookingECCShipmentInfo.CarrierCode,
		OutboundBookingECCShipmentInfo.ShipmentStatus,
		OutboundBookingECCShipmentInfo.NoShowFlag,
		OutboundBookingECCShipmentInfo.Advice,
		OutboundBookingECCShipmentInfo.PlanningAdviceId,
		OutboundBookingECCShipmentInfo.FromEcc,
		OutboundBookingECCShipmentInfo.partShipmentFlag
	from
		OutboundBookingECCShipmentInfo
	where
		not exists(
			select
				null	
			from	
				OutboundAcceptanceECCShipmentInfo
			where
				OutboundAcceptanceECCShipmentInfo.ShipmentNumber = OutboundBookingECCShipmentInfo.ShipmentNumber and
				OutboundAcceptanceECCShipmentInfo.ShipmentDate = OutboundBookingECCShipmentInfo.ShipmentDate and
				isnull(OutboundAcceptanceECCShipmentInfo.FlightId, 0) = isnull(OutboundBookingECCShipmentInfo.FlightId, 0)
		
		) and not exists(
			select
				null	
			from	
				OutboundPrelodgeECCShipmentInfo
			where
				OutboundPrelodgeECCShipmentInfo.ShipmentNumber = OutboundBookingECCShipmentInfo.ShipmentNumber and
				OutboundPrelodgeECCShipmentInfo.ShipmentDate = OutboundBookingECCShipmentInfo.ShipmentDate and
				isnull(OutboundPrelodgeECCShipmentInfo.FlightId, 0) = isnull(OutboundBookingECCShipmentInfo.FlightId, 0)
		
		) and not exists(
			select
				null
			from	
				OutboundECCPlanningAdviceWithShipments
			where
				OutboundECCPlanningAdviceWithShipments.ShipmentNumber = OutboundBookingECCShipmentInfo.ShipmentNumber and
				OutboundECCPlanningAdviceWithShipments.ShipmentDate = OutboundBookingECCShipmentInfo.ShipmentDate and
				isnull(OutboundECCPlanningAdviceWithShipments.FlightId, 0) = isnull(OutboundBookingECCShipmentInfo.FlightId, 0)
		) and not exists(
			select
				null
			from	
				OutboundManifestedECCShipmentInfo
			where
				OutboundManifestedECCShipmentInfo.ShipmentNumber = OutboundBookingECCShipmentInfo.ShipmentNumber and
				OutboundManifestedECCShipmentInfo.ShipmentDate = OutboundBookingECCShipmentInfo.ShipmentDate and
				isnull(OutboundManifestedECCShipmentInfo.FlightId, 0) = isnull(OutboundBookingECCShipmentInfo.FlightId, 0)
		) 
	union 
	select
		OutboundAcceptanceECCShipmentInfo.CustomerCode,
		OutboundOfflodedECCShipmentInfo.ShipmentNumber,
		OutboundOfflodedECCShipmentInfo.ShipmentId,
		OutboundOfflodedECCShipmentInfo.ShipmentDate,
		OutboundOfflodedECCShipmentInfo.Origin,
		OutboundOfflodedECCShipmentInfo.Destination,
		OutboundOfflodedECCShipmentInfo.documentPieces,
		OutboundOfflodedECCShipmentInfo.documentWeight,
		OutboundOfflodedECCShipmentInfo.FlightId,
		OutboundOfflodedECCShipmentInfo.outgoingFlightNumber,
		OutboundOfflodedECCShipmentInfo.dateSTD,
		OutboundOfflodedECCShipmentInfo.FlightOffPoint,
		OutboundOfflodedECCShipmentInfo.ParkingBayDepAircraft,
		OutboundOfflodedECCShipmentInfo.OutboundAircraftRegNo,
		OutboundOfflodedECCShipmentInfo.UldNumber,
		OutboundOfflodedECCShipmentInfo.SpecialHandlingCode,
		OutboundOfflodedECCShipmentInfo.SHCHandlingGroup,
		OutboundOfflodedECCShipmentInfo.CarrierCode,
		OutboundOfflodedECCShipmentInfo.ShipmentStatus,
		OutboundOfflodedECCShipmentInfo.NoShowFlag,
		OutboundOfflodedECCShipmentInfo.Advice,
		OutboundOfflodedECCShipmentInfo.PlanningAdviceId,
		OutboundOfflodedECCShipmentInfo.FromEcc,
		OutboundOfflodedECCShipmentInfo.partShipmentFlag
	from
		OutboundOfflodedECCShipmentInfo left join
		OutboundAcceptanceECCShipmentInfo
			on OutboundOfflodedECCShipmentInfo.ShipmentNumber = OutboundAcceptanceECCShipmentInfo.ShipmentNumber and
				OutboundOfflodedECCShipmentInfo.ShipmentDate = OutboundAcceptanceECCShipmentInfo.ShipmentDate
	)OutboundECCPlanningAdviceInfo left join
		Resource_StaffAllocatedFlightInfo 
			on Resource_StaffAllocatedFlightInfo.FlightId = OutboundECCPlanningAdviceInfo.FlightId left join 
		Resource_StaffShiftInfo 
			on Resource_StaffAllocatedFlightInfo.ResourceStaffShiftInfoId = Resource_StaffShiftInfo.ResourceStaffShiftInfoId left join
	(
		select
			Exp_eAcceptanceDocumentInformation.ShipmentNumber,
			Exp_eAcceptanceDocumentInformation.ShipmentDate,
			isnull(sum(Exp_eAcceptanceWeighing.GrossWeight),0) - isnull(sum(Exp_eAcceptanceWeighing.TareWeight),0) as AcceptedWeight,
			sum(Exp_eAcceptanceWeighing.Pieces) as AcceptedPieces
		from
			Exp_eAcceptanceDocumentInformation inner join
			Exp_eAcceptanceWeighing
				on Exp_eAcceptanceDocumentInformation.DocumentInformationId = Exp_eAcceptanceWeighing.DocumentInformationId
		where
			Exp_eAcceptanceDocumentInformation.CargoPhysicallyAccepted = 1 and
			Exp_eAcceptanceDocumentInformation.Status not in ('REJECTED', 'RETURNED')
		group by
			Exp_eAcceptanceDocumentInformation.ShipmentNumber,
			Exp_eAcceptanceDocumentInformation.ShipmentDate
	)ECCPhysicallyAcceptedShipments
		on OutboundECCPlanningAdviceInfo.ShipmentNumber = ECCPhysicallyAcceptedShipments.ShipmentNumber and
			OutboundECCPlanningAdviceInfo.ShipmentDate = ECCPhysicallyAcceptedShipments.ShipmentDate left join
	Shipment_FreightWayBill 
			on OutboundECCPlanningAdviceInfo.ShipmentNumber=Shipment_FreightWayBill.AwbNumber and
				OutboundECCPlanningAdviceInfo.ShipmentDate=Shipment_FreightWayBill.AwbDate
where 
	1 = 1 and
	(OutboundECCPlanningAdviceInfo.ShipmentNumber is null
				OR (OutboundECCPlanningAdviceInfo.ShipmentNumber is not null and exists(
				select
					null
				from
					Mst_AssociateSHCByHandlingGroup inner join
					Mst_SHCHandlingGroup 
						on Mst_AssociateSHCByHandlingGroup.MstSHCHandlingGroupID = Mst_SHCHandlingGroup.MstSHCHandlingGroupID and 
							Mst_SHCHandlingGroup.SHCHandlingGroupCode in ('RAC', 'EXP', 'COU','XPS')
				where				
					exists (select value FROM string_split(OutboundECCPlanningAdviceInfo.SpecialHandlingCode, ' ') where value = Mst_AssociateSHCByHandlingGroup.SpecialHandlingCode)
			)))]]></xml-property>
            <xml-property name="designerValues"><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<model:DesignValues xmlns:design="http://www.eclipse.org/datatools/connectivity/oda/design" xmlns:model="http://www.eclipse.org/birt/report/model/adapter/odaModel">
  <Version>2.0</Version>
  <design:ResultSets derivedMetaData="true">
    <design:resultSetDefinitions>
      <design:resultSetColumns>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>CustomerCode</design:name>
              <design:position>1</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>8</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>CustomerCode</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>CustomerCode</design:label>
            <design:formattingHints>
              <design:displaySize>8</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>ShipmentNumber</design:name>
              <design:position>2</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>29</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>ShipmentNumber</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>ShipmentNumber</design:label>
            <design:formattingHints>
              <design:displaySize>29</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>ShipmentId</design:name>
              <design:position>3</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>15</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>ShipmentId</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>ShipmentId</design:label>
            <design:formattingHints>
              <design:displaySize>17</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>ShipmentDate</design:name>
              <design:position>4</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>93</design:nativeDataTypeCode>
            <design:precision>23</design:precision>
            <design:scale>3</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>ShipmentDate</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>ShipmentDate</design:label>
            <design:formattingHints>
              <design:displaySize>23</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>Origin</design:name>
              <design:position>5</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>3</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>Origin</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>Origin</design:label>
            <design:formattingHints>
              <design:displaySize>3</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>Destination</design:name>
              <design:position>6</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>3</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>Destination</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>Destination</design:label>
            <design:formattingHints>
              <design:displaySize>3</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>documentPieces</design:name>
              <design:position>7</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>4</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>documentPieces</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>documentPieces</design:label>
            <design:formattingHints>
              <design:displaySize>6</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>documentWeight</design:name>
              <design:position>8</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>3</design:nativeDataTypeCode>
            <design:precision>8</design:precision>
            <design:scale>1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>documentWeight</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>documentWeight</design:label>
            <design:formattingHints>
              <design:displaySize>10</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>fwbPieces</design:name>
              <design:position>9</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>4</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>fwbPieces</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>fwbPieces</design:label>
            <design:formattingHints>
              <design:displaySize>6</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>fwbWeight</design:name>
              <design:position>10</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>3</design:nativeDataTypeCode>
            <design:precision>8</design:precision>
            <design:scale>1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>fwbWeight</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>fwbWeight</design:label>
            <design:formattingHints>
              <design:displaySize>10</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>outgoingFlightNumber</design:name>
              <design:position>11</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>8</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>outgoingFlightNumber</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>outgoingFlightNumber</design:label>
            <design:formattingHints>
              <design:displaySize>8</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>dateSTD</design:name>
              <design:position>12</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>93</design:nativeDataTypeCode>
            <design:precision>23</design:precision>
            <design:scale>3</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>dateSTD</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>dateSTD</design:label>
            <design:formattingHints>
              <design:displaySize>23</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>FlightOffPoint</design:name>
              <design:position>13</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>3</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>FlightOffPoint</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>FlightOffPoint</design:label>
            <design:formattingHints>
              <design:displaySize>3</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>ParkingBayDepAircraft</design:name>
              <design:position>14</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>4</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>ParkingBayDepAircraft</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>ParkingBayDepAircraft</design:label>
            <design:formattingHints>
              <design:displaySize>4</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>UldNumber</design:name>
              <design:position>15</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>11</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>UldNumber</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>UldNumber</design:label>
            <design:formattingHints>
              <design:displaySize>11</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>SpecialHandlingCode</design:name>
              <design:position>16</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>8000</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>SpecialHandlingCode</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>SpecialHandlingCode</design:label>
            <design:formattingHints>
              <design:displaySize>8000</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>SHCHandlingGroup</design:name>
              <design:position>17</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>8000</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>SHCHandlingGroup</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>SHCHandlingGroup</design:label>
            <design:formattingHints>
              <design:displaySize>8000</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>CarrierCode</design:name>
              <design:position>18</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>3</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>CarrierCode</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>CarrierCode</design:label>
            <design:formattingHints>
              <design:displaySize>3</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>ShipmentStatus</design:name>
              <design:position>19</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>15</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>ShipmentStatus</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>ShipmentStatus</design:label>
            <design:formattingHints>
              <design:displaySize>15</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>NoShowFlag</design:name>
              <design:position>20</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>-7</design:nativeDataTypeCode>
            <design:precision>1</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>NoShowFlag</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>NoShowFlag</design:label>
            <design:formattingHints>
              <design:displaySize>1</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>Advice</design:name>
              <design:position>21</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>300</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>Advice</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>Advice</design:label>
            <design:formattingHints>
              <design:displaySize>300</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>PlanningAdviceId</design:name>
              <design:position>22</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>15</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>PlanningAdviceId</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>PlanningAdviceId</design:label>
            <design:formattingHints>
              <design:displaySize>17</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>FromEcc</design:name>
              <design:position>23</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>4</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>NotNullable</design:nullability>
            <design:uiHints>
              <design:displayName>FromEcc</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>FromEcc</design:label>
            <design:formattingHints>
              <design:displaySize>4</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>groupField</design:name>
              <design:position>24</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>53</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>NotNullable</design:nullability>
            <design:uiHints>
              <design:displayName>groupField</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>groupField</design:label>
            <design:formattingHints>
              <design:displaySize>53</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>checker</design:name>
              <design:position>25</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>20</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>checker</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>checker</design:label>
            <design:formattingHints>
              <design:displaySize>20</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>AcceptedPieces</design:name>
              <design:position>26</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>38</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>AcceptedPieces</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>AcceptedPieces</design:label>
            <design:formattingHints>
              <design:displaySize>40</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>AcceptedWeight</design:name>
              <design:position>27</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>2</design:nativeDataTypeCode>
            <design:precision>38</design:precision>
            <design:scale>1</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>AcceptedWeight</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>AcceptedWeight</design:label>
            <design:formattingHints>
              <design:displaySize>40</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
      </design:resultSetColumns>
      <design:criteria/>
    </design:resultSetDefinitions>
  </design:ResultSets>
</model:DesignValues>]]></xml-property>
        </oda-data-set>
        <oda-data-set extensionID="org.eclipse.birt.report.data.oda.jdbc.JdbcSelectDataSet" name="getdate" id="1163">
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">getdate</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">getdate</text-property>
                    <text-property name="heading">getdate</text-property>
                </structure>
                <structure>
                    <property name="columnName">times</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">times</text-property>
                    <text-property name="heading">times</text-property>
                </structure>
            </list-property>
            <list-property name="parameters"/>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">getdate</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">times</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <property name="dataSource">Data Source</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">getdate</property>
                    <property name="nativeName">getdate</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
                <structure>
                    <property name="position">2</property>
                    <property name="name">times</property>
                    <property name="nativeName">times</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[select format(convert
(datetime,SWITCHOFFSET(converT(datetimeoffset,getdate()),(SELECT current_utc_offset 
                 FROM   sys.time_zone_info 
                 WHERE  NAME = 
(select ParameterValueChar from App_SystemParameters where upper(ParameterCode)=upper('Station_timezone'))))),'dd/MM/yyyy HH:mm:ss') as getdate,

format(convert
(datetime,SWITCHOFFSET(converT(datetimeoffset,getdate()),(SELECT current_utc_offset 
                 FROM   sys.time_zone_info 
                 WHERE  NAME = 
(select ParameterValueChar from App_SystemParameters where upper(ParameterCode)=upper('Station_timezone'))))),'HH:mm:ss') times]]></xml-property>
            <xml-property name="designerValues"><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<model:DesignValues xmlns:design="http://www.eclipse.org/datatools/connectivity/oda/design" xmlns:model="http://www.eclipse.org/birt/report/model/adapter/odaModel">
  <Version>2.0</Version>
  <design:ResultSets derivedMetaData="true">
    <design:resultSetDefinitions>
      <design:resultSetColumns>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>getdate</design:name>
              <design:position>1</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>93</design:nativeDataTypeCode>
            <design:precision>23</design:precision>
            <design:scale>3</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>getdate</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>getdate</design:label>
            <design:formattingHints>
              <design:displaySize>23</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
      </design:resultSetColumns>
      <design:criteria/>
    </design:resultSetDefinitions>
  </design:ResultSets>
</model:DesignValues>]]></xml-property>
        </oda-data-set>
    </data-sets>
    <styles>
        <style name="report" id="4">
            <property name="fontFamily">sans-serif</property>
            <property name="fontSize">10pt</property>
        </style>
        <style name="crosstab" id="5">
            <property name="borderBottomColor">#CCCCCC</property>
            <property name="borderBottomStyle">solid</property>
            <property name="borderBottomWidth">1pt</property>
            <property name="borderLeftColor">#CCCCCC</property>
            <property name="borderLeftStyle">solid</property>
            <property name="borderLeftWidth">1pt</property>
            <property name="borderRightColor">#CCCCCC</property>
            <property name="borderRightStyle">solid</property>
            <property name="borderRightWidth">1pt</property>
            <property name="borderTopColor">#CCCCCC</property>
            <property name="borderTopStyle">solid</property>
            <property name="borderTopWidth">1pt</property>
        </style>
        <style name="crosstab-cell" id="6">
            <property name="borderBottomColor">#CCCCCC</property>
            <property name="borderBottomStyle">solid</property>
            <property name="borderBottomWidth">1pt</property>
            <property name="borderLeftColor">#CCCCCC</property>
            <property name="borderLeftStyle">solid</property>
            <property name="borderLeftWidth">1pt</property>
            <property name="borderRightColor">#CCCCCC</property>
            <property name="borderRightStyle">solid</property>
            <property name="borderRightWidth">1pt</property>
            <property name="borderTopColor">#CCCCCC</property>
            <property name="borderTopStyle">solid</property>
            <property name="borderTopWidth">1pt</property>
        </style>
    </styles>
    <page-setup>
        <simple-master-page name="Simple MasterPage" id="2">
            <property name="type">a4</property>
            <property name="orientation">landscape</property>
            <property name="rightMargin">0in</property>
            <page-footer>
                <grid id="1168">
                    <property name="width">1.3166666666666667in</property>
                    <column id="1169">
                        <property name="width">1.3166666666666667in</property>
                    </column>
                    <row id="1170">
                        <cell id="1171">
                            <data id="1173">
                                <list-property name="boundDataColumns">
                                    <structure>
                                        <property name="name">tenantCurrentDateTime</property>
                                        <expression name="expression" type="javascript">params["tenantCurrentDateTime"]</expression>
                                        <property name="dataType">string</property>
                                    </structure>
                                </list-property>
                                <property name="resultSetColumn">tenantCurrentDateTime</property>
                            </data>
                        </cell>
                    </row>
                </grid>
            </page-footer>
        </simple-master-page>
    </page-setup>
    <body>
        <grid id="7">
            <property name="width">11.385416666666666in</property>
            <column id="8">
                <property name="width">11.385416666666666in</property>
            </column>
            <row id="9">
                <cell id="10">
                    <label id="11">
                        <property name="eventHandlerClass">com.ngen.cosys.report.event.LabelEventHandler</property>
                        <property name="fontFamily">"Courier New"</property>
                        <property name="fontWeight">bold</property>
                        <property name="textUnderline">underline</property>
                        <property name="textAlign">center</property>
                        <text-property name="text">export.ecc.flight.planner.list.title</text-property>
                    </label>
                </cell>
            </row>
        </grid>
        <grid id="68">
            <column id="69"/>
            <row id="70">
                <cell id="71">
                    <label id="72"/>
                </cell>
            </row>
        </grid>
        <table id="12">
            <property name="fontFamily">"Courier New"</property>
            <property name="textAlign">center</property>
            <property name="width">11.395833333333334in</property>
            <property name="dataSet">Data Set</property>
            <list-property name="boundDataColumns">
                <structure>
                    <property name="name">CustomerCode</property>
                    <text-property name="displayName">CustomerCode</text-property>
                    <expression name="expression" type="javascript">dataSetRow["CustomerCode"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">ShipmentNumber</property>
                    <text-property name="displayName">ShipmentNumber</text-property>
                    <expression name="expression" type="javascript">if(dataSetRow["NoShowFlag"]) {&#13;
dataSetRow["ShipmentNumber"] + " [No Show]"&#13;
} else {&#13;
dataSetRow["ShipmentNumber"] &#13;
}</expression>
                    <property name="dataType">string</property>
                    <property name="allowExport">true</property>
                </structure>
                <structure>
                    <property name="name">ShipmentId</property>
                    <text-property name="displayName">ShipmentId</text-property>
                    <expression name="expression" type="javascript">dataSetRow["ShipmentId"]</expression>
                    <property name="dataType">decimal</property>
                </structure>
                <structure>
                    <property name="name">ShipmentDate</property>
                    <text-property name="displayName">ShipmentDate</text-property>
                    <expression name="expression" type="javascript">dataSetRow["ShipmentDate"]</expression>
                    <property name="dataType">date-time</property>
                </structure>
                <structure>
                    <property name="name">Origin</property>
                    <text-property name="displayName">Origin</text-property>
                    <expression name="expression" type="javascript">dataSetRow["Origin"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">Destination</property>
                    <text-property name="displayName">Destination</text-property>
                    <expression name="expression" type="javascript">dataSetRow["Destination"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">documentPieces</property>
                    <text-property name="displayName">documentPieces</text-property>
                    <expression name="expression" type="javascript">if(dataSetRow["documentPieces"] != null){&#13;
	dataSetRow["documentPieces"]+'/'+dataSetRow["documentWeight"]&#13;
}</expression>
                    <property name="dataType">string</property>
                    <property name="allowExport">true</property>
                </structure>
                <structure>
                    <property name="name">documentWeight</property>
                    <text-property name="displayName">documentWeight</text-property>
                    <expression name="expression" type="javascript">dataSetRow["documentWeight"]</expression>
                    <property name="dataType">decimal</property>
                </structure>
                <structure>
                    <property name="name">fwbPieces</property>
                    <text-property name="displayName">fwbPieces</text-property>
                    <expression name="expression" type="javascript">if(dataSetRow["fwbPieces"] != null){&#13;
	dataSetRow["fwbPieces"]+'/'+dataSetRow["fwbWeight"]&#13;
}</expression>
                    <property name="dataType">string</property>
                    <property name="allowExport">true</property>
                </structure>
                <structure>
                    <property name="name">fwbWeight</property>
                    <text-property name="displayName">fwbWeight</text-property>
                    <expression name="expression" type="javascript">dataSetRow["fwbWeight"]</expression>
                    <property name="dataType">decimal</property>
                </structure>
                <structure>
                    <property name="name">outgoingFlightNumber</property>
                    <text-property name="displayName">outgoingFlightNumber</text-property>
                    <expression name="expression" type="javascript">dataSetRow["outgoingFlightNumber"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">dateSTD</property>
                    <text-property name="displayName">dateSTD</text-property>
                    <expression name="expression" type="javascript">dataSetRow["dateSTD"]</expression>
                    <property name="dataType">date-time</property>
                </structure>
                <structure>
                    <property name="name">FlightOffPoint</property>
                    <text-property name="displayName">FlightOffPoint</text-property>
                    <expression name="expression" type="javascript">dataSetRow["FlightOffPoint"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">ParkingBayDepAircraft</property>
                    <text-property name="displayName">ParkingBayDepAircraft</text-property>
                    <expression name="expression" type="javascript">dataSetRow["ParkingBayDepAircraft"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">OutboundAircraftRegNo</property>
                    <text-property name="displayName">OutboundAircraftRegNo</text-property>
                    <expression name="expression" type="javascript">dataSetRow["OutboundAircraftRegNo"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">UldNumber</property>
                    <text-property name="displayName">UldNumber</text-property>
                    <expression name="expression" type="javascript">dataSetRow["UldNumber"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">SpecialHandlingCode</property>
                    <text-property name="displayName">SpecialHandlingCode</text-property>
                    <expression name="expression" type="javascript">dataSetRow["SpecialHandlingCode"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">SHCHandlingGroup</property>
                    <text-property name="displayName">SHCHandlingGroup</text-property>
                    <expression name="expression" type="javascript">dataSetRow["SHCHandlingGroup"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">CarrierCode</property>
                    <text-property name="displayName">CarrierCode</text-property>
                    <expression name="expression" type="javascript">dataSetRow["CarrierCode"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">ShipmentStatus</property>
                    <text-property name="displayName">ShipmentStatus</text-property>
                    <expression name="expression" type="javascript">dataSetRow["ShipmentStatus"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">NoShowFlag</property>
                    <text-property name="displayName">NoShowFlag</text-property>
                    <expression name="expression" type="javascript">dataSetRow["NoShowFlag"]</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">Advice</property>
                    <text-property name="displayName">Advice</text-property>
                    <expression name="expression" type="javascript">dataSetRow["Advice"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">PlanningAdviceId</property>
                    <text-property name="displayName">PlanningAdviceId</text-property>
                    <expression name="expression" type="javascript">dataSetRow["PlanningAdviceId"]</expression>
                    <property name="dataType">decimal</property>
                </structure>
                <structure>
                    <property name="name">FromEcc</property>
                    <text-property name="displayName">FromEcc</text-property>
                    <expression name="expression" type="javascript">dataSetRow["FromEcc"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">groupField</property>
                    <text-property name="displayName">groupField</text-property>
                    <expression name="expression" type="javascript">dataSetRow["groupField"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">checker</property>
                    <text-property name="displayName">checker</text-property>
                    <expression name="expression" type="javascript">dataSetRow["checker"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">AcceptedPieces</property>
                    <text-property name="displayName">AcceptedPieces</text-property>
                    <expression name="expression" type="javascript">if(dataSetRow["AcceptedPieces"] != null){&#13;
	dataSetRow["AcceptedPieces"]+'/'+dataSetRow["AcceptedWeight"]&#13;
}</expression>
                    <property name="dataType">string</property>
                    <property name="allowExport">true</property>
                </structure>
                <structure>
                    <property name="name">AcceptedWeight</property>
                    <text-property name="displayName">AcceptedWeight</text-property>
                    <expression name="expression" type="javascript">dataSetRow["AcceptedWeight"]</expression>
                    <property name="dataType">decimal</property>
                </structure>
                <structure>
                    <property name="name">partShipmentFlag</property>
                    <text-property name="displayName">partShipmentFlag</text-property>
                    <expression name="expression" type="javascript">dataSetRow["partShipmentFlag"]</expression>
                    <property name="dataType">integer</property>
                </structure>
            </list-property>
            <property name="sortByGroups">false</property>
            <column id="55">
                <property name="width">0.88in</property>
            </column>
            <column id="56">
                <property name="width">1.0416666666666667in</property>
            </column>
            <column id="57">
                <property name="width">0.84375in</property>
            </column>
            <column id="58">
                <property name="width">0.90625in</property>
            </column>
            <column id="59">
                <property name="width">0.6in</property>
            </column>
            <column id="60">
                <property name="width">0.8in</property>
            </column>
            <column id="61">
                <property name="width">0.45in</property>
            </column>
            <column id="62">
                <property name="width">0.45in</property>
            </column>
            <column id="63">
                <property name="width">0.8333333333333334in</property>
            </column>
            <column id="64">
                <property name="width">0.4in</property>
            </column>
            <column id="65">
                <property name="width">0.90625in</property>
            </column>
            <column id="66">
                <property name="width">0.5in</property>
            </column>
            <column id="67">
                <property name="width">1.6875in</property>
            </column>
            <header>
                <row id="13">
                    <property name="fontWeight">bold</property>
                    <cell id="14">
                        <label id="73">
                            <property name="eventHandlerClass">com.ngen.cosys.report.event.LabelEventHandler</property>
                            <text-property name="text">g.awbNumber</text-property>
                        </label>
                    </cell>
                    <cell id="15">
                        <label id="74">
                            <property name="eventHandlerClass">com.ngen.cosys.report.event.LabelEventHandler</property>
                            <text-property name="text">export.pcswgt</text-property>
                        </label>
                    </cell>
                    <cell id="16">
                        <label id="75">
                            <property name="eventHandlerClass">com.ngen.cosys.report.event.LabelEventHandler</property>
                            <text-property name="text">export.ecc.fwb.pcs.wgt</text-property>
                        </label>
                    </cell>
                    <cell id="17">
                        <label id="76">
                            <property name="eventHandlerClass">com.ngen.cosys.report.event.LabelEventHandler</property>
                            <text-property name="text">export.ecc.physical.acceptance</text-property>
                        </label>
                    </cell>
                    <cell id="18">
                        <label id="77">
                            <property name="eventHandlerClass">com.ngen.cosys.report.event.LabelEventHandler</property>
                            <text-property name="text">g.flight</text-property>
                        </label>
                    </cell>
                    <cell id="19">
                        <label id="78">
                            <property name="eventHandlerClass">com.ngen.cosys.report.event.LabelEventHandler</property>
                            <text-property name="text">g.FlightDate</text-property>
                        </label>
                    </cell>
                    <cell id="20">
                        <label id="79">
                            <property name="eventHandlerClass">com.ngen.cosys.report.event.LabelEventHandler</property>
                            <text-property name="text">uld.std</text-property>
                        </label>
                    </cell>
                    <cell id="21">
                        <label id="80">
                            <property name="eventHandlerClass">com.ngen.cosys.report.event.LabelEventHandler</property>
                            <text-property name="text">export.ecc.off</text-property>
                        </label>
                    </cell>
                    <cell id="22">
                        <label id="81">
                            <property name="eventHandlerClass">com.ngen.cosys.report.event.LabelEventHandler</property>
                            <text-property name="text">export.booking.status</text-property>
                        </label>
                    </cell>
                    <cell id="23">
                        <label id="82">
                            <property name="eventHandlerClass">com.ngen.cosys.report.event.LabelEventHandler</property>
                            <text-property name="text">exp.bay</text-property>
                        </label>
                    </cell>
                    <cell id="24">
                        <label id="83">
                            <property name="eventHandlerClass">com.ngen.cosys.report.event.LabelEventHandler</property>
                            <text-property name="text">exp.allocated.uld.bt</text-property>
                        </label>
                    </cell>
                    <cell id="25">
                        <label id="84">
                            <property name="eventHandlerClass">com.ngen.cosys.report.event.LabelEventHandler</property>
                            <text-property name="text">g.agent</text-property>
                        </label>
                    </cell>
                    <cell id="26">
                        <label id="85">
                            <property name="eventHandlerClass">com.ngen.cosys.report.event.LabelEventHandler</property>
                            <text-property name="text">g.shc</text-property>
                        </label>
                    </cell>
                </row>
            </header>
            <group id="219">
                <property name="groupName">NewTableGroup1</property>
                <expression name="keyExpr" type="javascript">row["groupField"]</expression>
                <structure name="toc">
                    <expression name="expressionValue" type="javascript">row["groupField"]</expression>
                </structure>
                <property name="hideDetail">false</property>
            </group>
            <group id="282">
                <property name="groupName">NewTableGroup2</property>
                <expression name="keyExpr" type="javascript">row["Advice"]</expression>
                <structure name="toc">
                    <expression name="expressionValue" type="javascript">row["Advice"]</expression>
                </structure>
                <property name="hideDetail">false</property>
                <header>
                    <row id="283">
                        <cell id="284">
                            <property name="colSpan">2</property>
                            <property name="rowSpan">1</property>
                            <data id="311">
                                <property name="fontWeight">bold</property>
                                <property name="textAlign">left</property>
                                <property name="resultSetColumn">Advice</property>
                            </data>
                        </cell>
                        <cell id="286"/>
                        <cell id="287"/>
                        <cell id="288"/>
                        <cell id="289"/>
                        <cell id="290"/>
                        <cell id="291"/>
                        <cell id="292"/>
                        <cell id="293"/>
                        <cell id="294"/>
                        <cell id="295"/>
                        <cell id="296"/>
                    </row>
                </header>
            </group>
            <detail>
                <row id="27">
                    <list-property name="visibility">
                        <structure>
                            <property name="format">all</property>
                            <expression name="valueExpr" type="javascript">if(params["noshowFlag"].value === 1) {&#13;
	if(row["NoShowFlag"] === 1) {&#13;
		false&#13;
	}&#13;
	else {&#13;
		true&#13;
	}&#13;
 }&#13;
 else if(params["noshowFlag"].value === 0) {&#13;
	if(row["NoShowFlag"] === 1) {&#13;
		true&#13;
	}&#13;
	else {&#13;
		false&#13;
	}&#13;
 }&#13;
 else {&#13;
 	false&#13;
 }</expression>
                        </structure>
                    </list-property>
                    <cell id="28">
                        <data id="89">
                            <property name="textAlign">left</property>
                            <property name="resultSetColumn">ShipmentNumber</property>
                        </data>
                    </cell>
                    <cell id="29">
                        <data id="90">
                            <property name="eventHandlerClass">com.ngen.cosys.report.event.PiecesDataItemEventHandler</property>
                            <property name="resultSetColumn">documentPieces</property>
                        </data>
                    </cell>
                    <cell id="30">
                        <data id="316">
                            <property name="eventHandlerClass">com.ngen.cosys.report.event.PiecesDataItemEventHandler</property>
                            <property name="resultSetColumn">fwbPieces</property>
                        </data>
                    </cell>
                    <cell id="31">
                        <data id="103">
                            <property name="eventHandlerClass">com.ngen.cosys.report.event.PiecesDataItemEventHandler</property>
                            <property name="resultSetColumn">AcceptedPieces</property>
                        </data>
                    </cell>
                    <cell id="32">
                        <data id="92">
                            <property name="resultSetColumn">outgoingFlightNumber</property>
                        </data>
                    </cell>
                    <cell id="33">
                        <text-data id="318">
                            <expression name="valueExpr">Formatter.format(row["dateSTD"],'dd MMM yyyy')</expression>
                            <property name="contentType">html</property>
                        </text-data>
                    </cell>
                    <cell id="34">
                        <text-data id="317">
                            <expression name="valueExpr">Formatter.format(row["dateSTD"],'HH:mm')</expression>
                            <property name="contentType">html</property>
                        </text-data>
                    </cell>
                    <cell id="35">
                        <data id="97">
                            <property name="resultSetColumn">FlightOffPoint</property>
                        </data>
                    </cell>
                    <cell id="36">
                        <data id="96">
                            <property name="resultSetColumn">ShipmentStatus</property>
                        </data>
                    </cell>
                    <cell id="37">
                        <data id="98">
                            <property name="resultSetColumn">ParkingBayDepAircraft</property>
                        </data>
                    </cell>
                    <cell id="38">
                        <data id="99">
                            <property name="resultSetColumn">UldNumber</property>
                        </data>
                    </cell>
                    <cell id="39">
                        <data id="100">
                            <property name="resultSetColumn">CustomerCode</property>
                        </data>
                    </cell>
                    <cell id="40">
                        <data id="102">
                            <property name="resultSetColumn">SpecialHandlingCode</property>
                        </data>
                    </cell>
                </row>
            </detail>
        </table>
    </body>
</report>
