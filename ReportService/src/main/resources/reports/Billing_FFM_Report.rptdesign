<?xml version="1.0" encoding="UTF-8"?>
<report xmlns="http://www.eclipse.org/birt/2005/design" version="3.2.23" id="1">
    <property name="createdBy">Eclipse BIRT Designer Version 4.6.0.v201606072122</property>
    <property name="units">in</property>
    <property name="iconFile">/templates/blank_report.gif</property>
    <property name="bidiLayoutOrientation">ltr</property>
    <property name="imageDPI">144</property>
    <parameters>
        <scalar-parameter name="Loginuser" id="165">
            <property name="valueType">static</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="CarrierCode" id="166">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant"></value>
            </simple-property-list>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="fromdate" id="196">
            <property name="valueType">static</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="todate" id="197">
            <property name="valueType">static</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="carrierflag" id="205">
            <property name="valueType">static</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="tenantAirportCode" id="232">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant"></value>
            </simple-property-list>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="tenantFromDate" id="233">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant"></value>
            </simple-property-list>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="tenantToDate" id="234">
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">string</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="constant"></value>
            </simple-property-list>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
    </parameters>
    <data-sources>
        <oda-data-source extensionID="org.eclipse.birt.report.data.oda.jdbc" name="Data Source" id="55">
            <list-property name="privateDriverProperties">
                <ex-property>
                    <name>metadataBidiFormatStr</name>
                    <value>ILYNN</value>
                </ex-property>
                <ex-property>
                    <name>disabledMetadataBidiFormatStr</name>
                </ex-property>
                <ex-property>
                    <name>contentBidiFormatStr</name>
                    <value>ILYNN</value>
                </ex-property>
                <ex-property>
                    <name>disabledContentBidiFormatStr</name>
                </ex-property>
            </list-property>
            <property name="odaDriverClass">com.microsoft.sqlserver.jdbc.SQLServerDriver</property>
            <property name="odaURL">jdbc:sqlserver://cosysuatsqldb1server.database.windows.net;databaseName=NGCDEV</property>
            <property name="odaUser">SATsDevUser</property>
            <encrypted-property name="odaPassword" encryptionID="base64">U0B0cyMxNDIx</encrypted-property>
        </oda-data-source>
    </data-sources>
    <data-sets>
        <oda-data-set extensionID="org.eclipse.birt.report.data.oda.jdbc.JdbcSelectDataSet" name="Query" id="118">
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">CarrierCode</property>
                    <property name="alias">CarrierCode</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">CarrierCode</text-property>
                    <text-property name="heading">CarrierCode</text-property>
                </structure>
                <structure>
                    <property name="columnName">FlightKey</property>
                    <property name="alias">FlightKey</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">FlightKey</text-property>
                    <text-property name="heading">FlightKey</text-property>
                </structure>
                <structure>
                    <property name="columnName">DateSta</property>
                    <property name="alias">DateSta</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">DateSta</text-property>
                    <text-property name="heading">DateSta</text-property>
                </structure>
                <structure>
                    <property name="columnName">shipmentNumber</property>
                    <property name="alias">shipmentNumber</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">shipmentNumber</text-property>
                    <text-property name="heading">shipmentNumber</text-property>
                </structure>
                <structure>
                    <property name="columnName">AwbPrefix</property>
                    <property name="alias">AwbPrefix</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">AwbPrefix</text-property>
                    <text-property name="heading">AwbPrefix</text-property>
                </structure>
                <structure>
                    <property name="columnName">AwbNumber</property>
                    <property name="alias">AwbNumber</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">AwbNumber</text-property>
                    <text-property name="heading">AwbNumber</text-property>
                </structure>
                <structure>
                    <property name="columnName">YearOfReport</property>
                    <property name="alias">YearOfReport</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">YearOfReport</text-property>
                    <text-property name="heading">YearOfReport</text-property>
                </structure>
                <structure>
                    <property name="columnName">MonthOfReport</property>
                    <property name="alias">MonthOfReport</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">MonthOfReport</text-property>
                    <text-property name="heading">MonthOfReport</text-property>
                </structure>
                <structure>
                    <property name="columnName">FlightBoardPoint</property>
                    <property name="alias">FlightBoardPoint</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">FlightBoardPoint</text-property>
                    <text-property name="heading">FlightBoardPoint</text-property>
                </structure>
                <structure>
                    <property name="columnName">DifferenceInHours</property>
                    <property name="alias">DifferenceInHours</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">DifferenceInHours</text-property>
                    <text-property name="heading">DifferenceInHours</text-property>
                </structure>
                <structure>
                    <property name="columnName">Remarks</property>
                    <property name="alias">Remarks</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">Remarks</text-property>
                    <text-property name="heading">Remarks</text-property>
                </structure>
                <structure>
                    <property name="columnName">NilCargo</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">NilCargo</text-property>
                    <text-property name="heading">NilCargo</text-property>
                </structure>
                <structure>
                    <property name="columnName">FFMChargevalue</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">FFMChargevalue</text-property>
                    <text-property name="heading">FFMChargevalue</text-property>
                </structure>
                <structure>
                    <property name="columnName">GroupMinCharge</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">GroupMinCharge</text-property>
                    <text-property name="heading">GroupMinCharge</text-property>
                </structure>
                <structure>
                    <property name="columnName">GroupMaxCharge</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">GroupMaxCharge</text-property>
                    <text-property name="heading">GroupMaxCharge</text-property>
                </structure>
            </list-property>
            <list-property name="parameters">
                <structure>
                    <property name="name">param_8</property>
                    <property name="paramName">tenantAirportCode</property>
                    <property name="dataType">string</property>
                    <property name="position">1</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_1</property>
                    <property name="paramName">carrierflag</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">2</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_2</property>
                    <property name="paramName">carrierflag</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">3</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_3</property>
                    <property name="paramName">CarrierCode</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">4</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_4</property>
                    <property name="paramName">fromdate</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">5</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_5</property>
                    <property name="paramName">todate</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">6</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_6</property>
                    <property name="paramName">CarrierCode</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">7</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_7</property>
                    <property name="paramName">CarrierCode</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">8</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">CarrierCode</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">FlightKey</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">DateSta</property>
                        <property name="dataType">date</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">shipmentNumber</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">AwbPrefix</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">6</property>
                        <property name="name">AwbNumber</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">7</property>
                        <property name="name">YearOfReport</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">8</property>
                        <property name="name">MonthOfReport</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">9</property>
                        <property name="name">FlightBoardPoint</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">10</property>
                        <property name="name">DifferenceInHours</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">11</property>
                        <property name="name">Remarks</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">12</property>
                        <property name="name">NilCargo</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">13</property>
                        <property name="name">FFMChargevalue</property>
                        <property name="dataType">decimal</property>
                    </structure>
                    <structure>
                        <property name="position">14</property>
                        <property name="name">GroupMinCharge</property>
                        <property name="dataType">decimal</property>
                    </structure>
                    <structure>
                        <property name="position">15</property>
                        <property name="name">GroupMaxCharge</property>
                        <property name="dataType">decimal</property>
                    </structure>
                </list-property>
            </structure>
            <property name="dataSource">Data Source</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">CarrierCode</property>
                    <property name="nativeName">CarrierCode</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
                <structure>
                    <property name="position">2</property>
                    <property name="name">FlightKey</property>
                    <property name="nativeName">FlightKey</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
                <structure>
                    <property name="position">3</property>
                    <property name="name">DateSta</property>
                    <property name="nativeName">DateSta</property>
                    <property name="dataType">date</property>
                    <property name="nativeDataType">91</property>
                </structure>
                <structure>
                    <property name="position">4</property>
                    <property name="name">shipmentNumber</property>
                    <property name="nativeName">shipmentNumber</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
                <structure>
                    <property name="position">5</property>
                    <property name="name">AwbPrefix</property>
                    <property name="nativeName">AwbPrefix</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
                <structure>
                    <property name="position">6</property>
                    <property name="name">AwbNumber</property>
                    <property name="nativeName">AwbNumber</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
                <structure>
                    <property name="position">7</property>
                    <property name="name">YearOfReport</property>
                    <property name="nativeName">YearOfReport</property>
                    <property name="dataType">integer</property>
                    <property name="nativeDataType">4</property>
                </structure>
                <structure>
                    <property name="position">8</property>
                    <property name="name">MonthOfReport</property>
                    <property name="nativeName">MonthOfReport</property>
                    <property name="dataType">integer</property>
                    <property name="nativeDataType">4</property>
                </structure>
                <structure>
                    <property name="position">9</property>
                    <property name="name">FlightBoardPoint</property>
                    <property name="nativeName">FlightBoardPoint</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
                <structure>
                    <property name="position">10</property>
                    <property name="name">DifferenceInHours</property>
                    <property name="nativeName">DifferenceInHours</property>
                    <property name="dataType">integer</property>
                    <property name="nativeDataType">4</property>
                </structure>
                <structure>
                    <property name="position">11</property>
                    <property name="name">Remarks</property>
                    <property name="nativeName">Remarks</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
                <structure>
                    <property name="position">12</property>
                    <property name="name">NilCargo</property>
                    <property name="nativeName">NilCargo</property>
                    <property name="dataType">integer</property>
                    <property name="nativeDataType">-7</property>
                </structure>
                <structure>
                    <property name="position">13</property>
                    <property name="name">FFMChargevalue</property>
                    <property name="nativeName">FFMChargevalue</property>
                    <property name="dataType">decimal</property>
                    <property name="nativeDataType">2</property>
                </structure>
                <structure>
                    <property name="position">14</property>
                    <property name="name">GroupMinCharge</property>
                    <property name="nativeName">GroupMinCharge</property>
                    <property name="dataType">decimal</property>
                    <property name="nativeDataType">2</property>
                </structure>
                <structure>
                    <property name="position">15</property>
                    <property name="name">GroupMaxCharge</property>
                    <property name="nativeName">GroupMaxCharge</property>
                    <property name="dataType">decimal</property>
                    <property name="nativeDataType">2</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[WITH Flight
AS (
       SELECT leg.Flight_ID FlightId
              ,Flight.CarrierCode
              ,Flight.FlightNumber
              ,Flight.FlightKey
              ,Leg.DateSTA
              ,Leg.FlightBoardPoint
       FROM Flt_OperativeFlight Flight
       INNER JOIN Flt_OperativeFlight_Legs leg ON leg.Flight_ID = Flight.Flight_ID
              AND Leg.FlightOffPoint = ?
       WHERE (Flight.FlightCancelFlag is null or Flight.FlightCancelFlag = 'A')
                     AND ((? = '0')   or (? = '1' and Flight.CarrierCode = ?))
              AND ((Flight.carriercode IN ('MU','CK') AND cast(Leg.DateSTA AS DATE) >= '11-DEC-2018')
                OR (Flight.carriercode IN ('VJ','PN','RX') AND cast(Leg.DateSTA AS DATE) >= '27-DEC-2018')
                OR (Flight.carriercode IN ('TG','BR','FJ','LO') AND cast(Leg.DateSTA AS DATE) >= '03-JAN-2019')
                OR (Flight.carriercode IN ('BG','SL','OD','JT','ID','HU','GX','5J','3U') AND cast(Leg.DateSTA AS DATE) >= '26-FEB-2019')
                OR (Flight.carriercode IN ('CZ','CV','LX','MF','NS','OZ','QZ','Z2','ZH','FD','AK','CA','JL','HO') AND cast(Leg.DateSTA AS DATE) >= '19-MAR-2019')
                OR (Flight.carriercode IN ('AI','7L','9W','PR','IX','BI','EY','ET','BS','SV','BL','HY') AND cast(Leg.DateSTA AS DATE) >= '27-MAR-2019')
                OR (Flight.carriercode = '3K' AND cast(Leg.DateSTA AS DATE) BETWEEN '27-MAR-2019' AND '28-MAR-2019')
                OR (Flight.carriercode IN ('PX','VN') AND cast(Leg.DateSTA AS DATE) BETWEEN '27-MAR-2019' AND '14-APR-2019')
                OR (Flight.carriercode = 'UA' AND cast(Leg.DateSTA AS DATE) >= '30-APR-2019')
                OR (Flight.carriercode = 'TK' AND cast(Leg.DateSTA AS DATE) >= '09-MAY-2019')
                OR (Flight.carriercode IN ('NH','NQ') AND cast(Leg.DateSTA AS DATE) >= '15-MAY-2019')
                OR (Flight.carriercode = 'CX' AND cast(Leg.DateSTA AS DATE) >= '21-MAY-2019')
                OR (Flight.carriercode = 'KE' AND cast(Leg.DateSTA AS DATE) >= '28-MAY-2019')
                OR (Flight.carriercode = 'VN' AND cast(Leg.DateSTA AS DATE) >= '04-JUN-2019')
                OR (Flight.carriercode = '3K' AND cast(Leg.DateSTA AS DATE) >= '11-JUN-2019')
                OR (Flight.carriercode = 'KZ' AND cast(Leg.DateSTA AS DATE) >= '12-JUN-2019')
                OR (Flight.carriercode = 'FX' AND cast(Leg.DateSTA AS DATE) >= '18-JUN-2019')
                OR (Flight.carriercode = 'RU' AND cast(Leg.DateSTA AS DATE) >= '25-JUN-2019')
                OR (Flight.carriercode IN ('TH','N7') AND cast(Leg.DateSTA AS DATE) >= '02-JUL-2019')
                OR (Flight.carriercode = 'LH' AND Cast(Leg.DateSTA AS DATE) >= '11-JUL-2019')
                OR (Flight.carriercode = '8K' AND Cast(Leg.DateSTA AS DATE) >= '16-JUL-2019')
                OR (Flight.carriercode = '3S' AND Cast(Leg.DateSTA AS DATE) >= '19-JUL-2019')
                OR (Flight.carriercode IN ('JQ', 'QF') AND Cast(Leg.DateSTA AS DATE) >= '29-JUL-2019')
                OR (Flight.carriercode = 'PX' AND Cast(Leg.DateSTA AS DATE) >= '27-AUG-2019')
                OR (Flight.FlightKey = 'SQ0278' AND Cast(Leg.DateSTA AS DATE) >= '02-SEP-2019')
                OR (Flight.flightkey = 'MI0921' AND Cast(Leg.DateSTA AS DATE) >= '10-SEP-2019')
                OR (Flight.flightkey = 'SQ0181' AND Cast(Leg.datesta AS DATE) >= '13-SEP-2019')
                OR (Flight.flightkey = 'SQ0655' AND Cast(Leg.datesta AS DATE) >= '17-SEP-2019')
                OR (Flight.flightkey IN ('SQ0479', 'SQ0481') AND Cast(Leg.datesta AS DATE) >= '27-SEP-2019')
                OR (Flight.flightkey IN ('SQ0447', 'SQ7121') AND Cast(Leg.datesta AS DATE) >= '01-OCT-2019')
                OR (Flight.flightkey = 'SQ0449' AND Cast(Leg.datesta AS DATE) >= '02-OCT-2019')
                OR (Flight.flightkey = 'TR0531' AND Cast(Leg.datesta AS DATE) >= '03-OCT-2019')
                OR (Flight.flightkey IN ('SQ0278', 'SQ4282', 'SQ4284', 'SQ0286', 'SQ7297', 'SQ7289'
                           , 'SQ7293', 'SQ0266', 'SQ0246', 'SQ0256', 'SQ0236', 'SQ0298', 'SQ0208', 'SQ0218'
                           , 'SQ7285', 'SQ0238', 'SQ0228', 'SQ0248', 'TR0025', 'TR0019', 'SQ0216', 'SQ0224'
                           , 'SQ0226', 'SQ0214', 'TR0017', 'TR0009', 'SQ0242', 'SQ7127', 'SQ0288', 'SQ0212'
                           , 'SQ0232', 'SQ7295', 'SQ0222', 'TR0013', 'TR0003') AND Cast(Leg.datesta AS DATE) >= '08-OCT-2019')
                OR (Flight.flightkey IN ('MI0804', 'MI0812', 'MI0814', 'TR0007') AND Cast(Leg.datesta AS DATE) >= '15-OCT-2019')
                OR (Flight.flightkey IN ('MI0319', 'MI0321', 'MI0323', 'MI0325', 'MI0327', 'MI0339'
                           , 'MI0341', 'SQ0107', 'SQ0117', 'SQ0119', 'SQ3338', 'SQ3342', 'TR0453', 'TR0457'
                           , 'TR0465', 'TR0467', 'TR0469') AND Cast(Leg.datesta AS DATE) >= '30-OCT-2019')
                OR (Flight.flightkey IN ('SQ0915', 'SQ0917') AND Cast(Leg.datesta AS DATE) >= '06-NOV-2019')
                OR (Flight.flightkey IN ('SQ0921', 'SQ0919', 'TR0393', 'TR0391') AND Cast(Leg.datesta AS DATE) >= '07-NOV-2019')
                OR (Flight.FlightKey = 'SQ0021' AND Cast(Leg.datesta AS DATE) >= '29-NOV-2019')
                OR (Cast(Leg.datesta AS DATE) >= '01NOV2019'))
       )
, FFM AS (
       SELECT Flt.CarrierCode
              ,Flt.FlightKey
              ,cast(Flt.dateSta AS DATE) DateSta
              ,Sm.shipmentnumber as shipmentNumber
              ,'''' + Substring(Sm.shipmentnumber, 1, 3) AwbPrefix
              ,'''' + Substring(Sm.shipmentnumber, 4, 8) AwbNumber
              ,datepart(yyyy, Getdate() - 1) YearOfReport
              ,datepart(mm, Getdate() - 1) MonthOfReport
              ,isnull(FFMInfo.FlightBoardPoint, Flt.FlightBoardPoint) FlightBoardPoint
              ,abs(datediff(hour, Isnull(FFMInfo.MessageProcessedDate, getdate()), 
                       convert(DATETIME, SWITCHOFFSET(convert(DATETIMEOFFSET, Flt.DateSta), (
                           SELECT current_utc_offset FROM sys.time_zone_info WHERE name = 'UTC')
               ))
                     )) AS DifferenceInHours
              ,CASE 
                     WHEN FFMInfo.ProcessedBy = 'I'
                           THEN 'FFM RECEIVED THROUGH CARGO IMP'
                     WHEN FFMInfo.ProcessedBy = 'E'
                           THEN 'FFM NOT CARGO IMP'
                     ELSE 'FFM NOT RECEIVE WITHIN 24HOURS'
                     END Remarks
                       ,FFMInfo.NilCargo
       FROM Shipment_Master Sm
       INNER JOIN Imp_ShipmentVerification ShpVer ON Sm.ShipmentId = ShpVer.ShipmentId
       INNER JOIN Flight Flt ON ShpVer.FlightId = Flt.FlightId
       LEFT JOIN (
              SELECT FFMFlt.FlightId
                     ,FFMShp.AwbNumber
                     ,FFMShp.AwbDate
                     ,OprSeg.FlightBoardPoint
                     ,CASE 
                           WHEN FFMSeg.CreatedUserCode <> 'MANUAL'
                                  THEN 'I'
                           ELSE 'E'
                           END ProcessedBy
                     ,max(FFMSeg.MessageProcessedDate) AS MessageProcessedDate
                                  ,FFMSeg.NilCargo
              FROM Imp_FreightFlightManifestByFlight FFMFlt
              INNER JOIN Imp_FreightFlightManifestBySegment FFMSeg ON FFMFlt.ImpFreightFlightManifestByFlightId = FFMSeg.ImpFreightFlightManifestByFlightId
              INNER JOIN Imp_FreightFlightManifestULD FFMUld ON FFMSeg.ImpFreightFlightManifestBySegmentId = FFMUld.ImpFreightFlightManifestBySegmentId
              INNER JOIN Imp_FreightFlightManifestByShipment FFMShp ON FFMUld.ImpFreightFlightManifestULDId = FFMShp.ImpFreightFlightManifestULDId
              INNER JOIN Flt_OperativeFlight_Segments OprSeg ON FFMSeg.FlightSegmentId = OprSeg.FlightSegmentId
              WHERE FFMSeg.MessageStatus = 'PROCESSED'
              GROUP BY FFMFlt.FlightId
                     ,FFMShp.AwbNumber
                     ,FFMShp.AwbDate
                     ,OprSeg.FlightBoardPoint
                     ,FFMSeg.CreatedUserCode
                                  ,FFMSeg.NilCargo
              ) FFMInfo ON ShpVer.FlightId = FFMInfo.FlightId
              AND Sm.ShipmentNumber = FFMInfo.AwbNumber
              AND cast(Sm.ShipmentDate AS DATE) = cast(FFMInfo.AwbDate AS DATE)
       WHERE Sm.ShipmentType = 'AWB'

UNION

              SELECT Flt.CarrierCode
              ,Flt.FlightKey
              ,cast(Flt.dateSta AS DATE) DateSta
              ,null shipmentNumber
              ,null AwbPrefix
             ,null AwbNumber
              ,datepart(yyyy, Getdate() - 1) YearOfReport
              ,datepart(mm, Getdate() - 1) MonthOfReport
              ,Flt.FlightBoardPoint
              ,null DifferenceInHours
              ,CASE 
                     WHEN Imp_FreightFlightManifestBySegment.CreatedUserCode <> 'MANUAL'
                           THEN 'FFM RECEIVED THROUGH CARGO IMP'
                     ELSE 'FFM NOT CARGO IMP'
                     END Remarks
                       ,Imp_FreightFlightManifestBySegment.NilCargo
FROM
       Imp_FreightFlightManifestByFlight
       inner join Imp_FreightFlightManifestBySegment 
              on Imp_FreightFlightManifestByFlight.ImpFreightFlightManifestByFlightId = Imp_FreightFlightManifestBySegment.ImpFreightFlightManifestByFlightId
       inner join Flight Flt
              on Imp_FreightFlightManifestByFlight.FlightId = Flt.FlightId
where Imp_FreightFlightManifestBySegment.NilCargo = 1
       )
SELECT Ffm.*
,case
                when Ffm.NilCargo = 1 then FFMChargeConfig.Quantity2ChargeableMin
                else FFMChargeConfig.Rate end FFMChargevalue
,FFMChargeConfig.GroupMinCharge
,FFMChargeConfig.GroupMaxCharge
FROM Ffm
inner join Billing_AirlineChargeCode FFMChargeConfig
on Ffm.CarrierCode = FFMChargeConfig.CarrierCode  and AirlineChargeCode = 'FFM CHARGE'
 WHERE (Quantity1ChargeableMin is null or Ffm.DifferenceInHours is null or Ffm.DifferenceInHours > Quantity1ChargeableMin)
And CAST(DateSTA AS DATE) BETWEEN ? AND ?
and (ffm.CarrierCode = ? or isnull(?,'0') = '0')
ORDER BY cast(dateSta AS DATE)
       ,FlightKey
       ,AwbPrefix
       ,AwbNumber
]]></xml-property>
            <xml-property name="designerValues"><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<model:DesignValues xmlns:design="http://www.eclipse.org/datatools/connectivity/oda/design" xmlns:model="http://www.eclipse.org/birt/report/model/adapter/odaModel">
  <Version>2.0</Version>
  <design:ResultSets derivedMetaData="true">
    <design:resultSetDefinitions>
      <design:resultSetColumns>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>CarrierCode</design:name>
              <design:position>1</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>3</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>NotNullable</design:nullability>
            <design:uiHints>
              <design:displayName>CarrierCode</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>CarrierCode</design:label>
            <design:formattingHints>
              <design:displaySize>3</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>FlightKey</design:name>
              <design:position>2</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>8</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>NotNullable</design:nullability>
            <design:uiHints>
              <design:displayName>FlightKey</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>FlightKey</design:label>
            <design:formattingHints>
              <design:displaySize>8</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>DateSta</design:name>
              <design:position>3</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>91</design:nativeDataTypeCode>
            <design:precision>10</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>DateSta</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>DateSta</design:label>
            <design:formattingHints>
              <design:displaySize>10</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>AwbPrefix</design:name>
              <design:position>4</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>4</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>AwbPrefix</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>AwbPrefix</design:label>
            <design:formattingHints>
              <design:displaySize>4</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>AwbNumber</design:name>
              <design:position>5</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>9</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>AwbNumber</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>AwbNumber</design:label>
            <design:formattingHints>
              <design:displaySize>9</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>YearOfReport</design:name>
              <design:position>6</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>4</design:nativeDataTypeCode>
            <design:precision>10</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>YearOfReport</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>YearOfReport</design:label>
            <design:formattingHints>
              <design:displaySize>11</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>MonthOfReport</design:name>
              <design:position>7</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>4</design:nativeDataTypeCode>
            <design:precision>10</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>MonthOfReport</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>MonthOfReport</design:label>
            <design:formattingHints>
              <design:displaySize>11</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>FlightBoardPoint</design:name>
              <design:position>8</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>3</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>NotNullable</design:nullability>
            <design:uiHints>
              <design:displayName>FlightBoardPoint</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>FlightBoardPoint</design:label>
            <design:formattingHints>
              <design:displaySize>3</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>FFMCharge</design:name>
              <design:position>9</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>4</design:nativeDataTypeCode>
            <design:precision>10</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>NotNullable</design:nullability>
            <design:uiHints>
              <design:displayName>FFMCharge</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>FFMCharge</design:label>
            <design:formattingHints>
              <design:displaySize>11</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>DifferenceInHours</design:name>
              <design:position>10</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>4</design:nativeDataTypeCode>
            <design:precision>10</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>DifferenceInHours</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>DifferenceInHours</design:label>
            <design:formattingHints>
              <design:displaySize>11</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>Remarks</design:name>
              <design:position>11</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>30</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>NotNullable</design:nullability>
            <design:uiHints>
              <design:displayName>Remarks</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>Remarks</design:label>
            <design:formattingHints>
              <design:displaySize>30</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
      </design:resultSetColumns>
      <design:criteria/>
    </design:resultSetDefinitions>
  </design:ResultSets>
</model:DesignValues>]]></xml-property>
        </oda-data-set>
        <oda-data-set extensionID="org.eclipse.birt.report.data.oda.jdbc.JdbcSelectDataSet" name="getdatetime" id="158">
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">datetime</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">datetime</text-property>
                    <text-property name="heading">datetime</text-property>
                </structure>
            </list-property>
            <list-property name="parameters"/>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">datetime</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <property name="dataSource">Data Source</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">datetime</property>
                    <property name="nativeName">datetime</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[select 
UPPER(FORMAT(convert(datetime, CONVERT(datetimeoffset, getDate()) AT TIME ZONE (select ParameterValueChar from App_SystemParameters where ParameterCode='Station_timezone')), 'ddMMMyyyy HH:mm'))
as datetime]]></xml-property>
        </oda-data-set>
        <oda-data-set extensionID="org.eclipse.birt.report.data.oda.jdbc.JdbcSelectDataSet" name="Sumamount" id="200">
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">FlightKey</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">FlightKey</text-property>
                    <text-property name="heading">FlightKey</text-property>
                </structure>
                <structure>
                    <property name="columnName">DateSta</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">DateSta</text-property>
                    <text-property name="heading">DateSta</text-property>
                </structure>
                <structure>
                    <property name="columnName">AwbCount</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">AwbCount</text-property>
                    <text-property name="heading">AwbCount</text-property>
                </structure>
                <structure>
                    <property name="columnName">Shipment_Count</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">Shipment_Count</text-property>
                    <text-property name="heading">Shipment_Count</text-property>
                </structure>
                <structure>
                    <property name="columnName">YearOfReport</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">YearOfReport</text-property>
                    <text-property name="heading">YearOfReport</text-property>
                </structure>
                <structure>
                    <property name="columnName">MonthOfReport</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">MonthOfReport</text-property>
                    <text-property name="heading">MonthOfReport</text-property>
                </structure>
                <structure>
                    <property name="columnName">FlightBoardPoint</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">FlightBoardPoint</text-property>
                    <text-property name="heading">FlightBoardPoint</text-property>
                </structure>
                <structure>
                    <property name="columnName">DifferenceInHours</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">DifferenceInHours</text-property>
                    <text-property name="heading">DifferenceInHours</text-property>
                </structure>
                <structure>
                    <property name="columnName">Remarks</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">Remarks</text-property>
                    <text-property name="heading">Remarks</text-property>
                </structure>
                <structure>
                    <property name="columnName">AmountToCharge</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">AmountToCharge</text-property>
                    <text-property name="heading">AmountToCharge</text-property>
                </structure>
            </list-property>
            <list-property name="parameters">
                <structure>
                    <property name="name">param_1</property>
                    <property name="paramName">carrierflag</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">1</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_2</property>
                    <property name="paramName">carrierflag</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">2</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_3</property>
                    <property name="paramName">CarrierCode</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">0</property>
                    <property name="position">3</property>
                    <property name="isOptional">false</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_4</property>
                    <property name="paramName">fromdate</property>
                    <property name="dataType">string</property>
                    <property name="position">4</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_5</property>
                    <property name="paramName">todate</property>
                    <property name="dataType">string</property>
                    <property name="position">5</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_6</property>
                    <property name="paramName">CarrierCode</property>
                    <property name="dataType">string</property>
                    <property name="position">6</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_7</property>
                    <property name="paramName">CarrierCode</property>
                    <property name="dataType">string</property>
                    <property name="position">7</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">FlightKey</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">DateSta</property>
                        <property name="dataType">date</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">AwbCount</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">Shipment_Count</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">YearOfReport</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">6</property>
                        <property name="name">MonthOfReport</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">7</property>
                        <property name="name">FlightBoardPoint</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">8</property>
                        <property name="name">DifferenceInHours</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">9</property>
                        <property name="name">Remarks</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">10</property>
                        <property name="name">AmountToCharge</property>
                        <property name="dataType">decimal</property>
                    </structure>
                </list-property>
            </structure>
            <property name="dataSource">Data Source</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">FlightKey</property>
                    <property name="nativeName">FlightKey</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
                <structure>
                    <property name="position">2</property>
                    <property name="name">DateSta</property>
                    <property name="nativeName">DateSta</property>
                    <property name="dataType">date</property>
                    <property name="nativeDataType">91</property>
                </structure>
                <structure>
                    <property name="position">3</property>
                    <property name="name">AwbCount</property>
                    <property name="nativeName">AwbCount</property>
                    <property name="dataType">integer</property>
                    <property name="nativeDataType">4</property>
                </structure>
                <structure>
                    <property name="position">4</property>
                    <property name="name">Shipment_Count</property>
                    <property name="nativeName">Shipment_Count</property>
                    <property name="dataType">integer</property>
                    <property name="nativeDataType">4</property>
                </structure>
                <structure>
                    <property name="position">5</property>
                    <property name="name">YearOfReport</property>
                    <property name="nativeName">YearOfReport</property>
                    <property name="dataType">integer</property>
                    <property name="nativeDataType">4</property>
                </structure>
                <structure>
                    <property name="position">6</property>
                    <property name="name">MonthOfReport</property>
                    <property name="nativeName">MonthOfReport</property>
                    <property name="dataType">integer</property>
                    <property name="nativeDataType">4</property>
                </structure>
                <structure>
                    <property name="position">7</property>
                    <property name="name">FlightBoardPoint</property>
                    <property name="nativeName">FlightBoardPoint</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
                <structure>
                    <property name="position">8</property>
                    <property name="name">DifferenceInHours</property>
                    <property name="nativeName">DifferenceInHours</property>
                    <property name="dataType">integer</property>
                    <property name="nativeDataType">4</property>
                </structure>
                <structure>
                    <property name="position">9</property>
                    <property name="name">Remarks</property>
                    <property name="nativeName">Remarks</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
                <structure>
                    <property name="position">10</property>
                    <property name="name">AmountToCharge</property>
                    <property name="nativeName">AmountToCharge</property>
                    <property name="dataType">decimal</property>
                    <property name="nativeDataType">2</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[WITH Flight
AS (
       SELECT leg.Flight_ID FlightId
              ,Flight.CarrierCode
              ,Flight.FlightNumber
              ,Flight.FlightKey
              ,Leg.DateSTA
              ,Leg.FlightBoardPoint
       FROM Flt_OperativeFlight Flight
       INNER JOIN Flt_OperativeFlight_Legs leg ON leg.Flight_ID = Flight.Flight_ID
              AND Leg.FlightOffPoint = 'SIN'
       WHERE (Flight.FlightCancelFlag is null or Flight.FlightCancelFlag = 'A')
                     AND ((? = '0')   or (? = '1' and Flight.CarrierCode = ? ))
              AND ((Flight.carriercode IN ('MU','CK') AND cast(Leg.DateSTA AS DATE) >= '11-DEC-2018')
                OR (Flight.carriercode IN ('VJ','PN','RX') AND cast(Leg.DateSTA AS DATE) >= '27-DEC-2018')
                OR (Flight.carriercode IN ('TG','BR','FJ','LO') AND cast(Leg.DateSTA AS DATE) >= '03-JAN-2019')
                OR (Flight.carriercode IN ('BG','SL','OD','JT','ID','HU','GX','5J','3U') AND cast(Leg.DateSTA AS DATE) >= '26-FEB-2019')
                OR (Flight.carriercode IN ('CZ','CV','LX','MF','NS','OZ','QZ','Z2','ZH','FD','AK','CA','JL','HO') AND cast(Leg.DateSTA AS DATE) >= '19-MAR-2019')
                OR (Flight.carriercode IN ('AI','7L','9W','PR','IX','BI','EY','ET','BS','SV','BL','HY') AND cast(Leg.DateSTA AS DATE) >= '27-MAR-2019')
                OR (Flight.carriercode = '3K' AND cast(Leg.DateSTA AS DATE) BETWEEN '27-MAR-2019' AND '28-MAR-2019')
                OR (Flight.carriercode IN ('PX','VN') AND cast(Leg.DateSTA AS DATE) BETWEEN '27-MAR-2019' AND '14-APR-2019')
                OR (Flight.carriercode = 'UA' AND cast(Leg.DateSTA AS DATE) >= '30-APR-2019')
                OR (Flight.carriercode = 'TK' AND cast(Leg.DateSTA AS DATE) >= '09-MAY-2019')
                OR (Flight.carriercode IN ('NH','NQ') AND cast(Leg.DateSTA AS DATE) >= '15-MAY-2019')
                OR (Flight.carriercode = 'CX' AND cast(Leg.DateSTA AS DATE) >= '21-MAY-2019')
                OR (Flight.carriercode = 'KE' AND cast(Leg.DateSTA AS DATE) >= '28-MAY-2019')
                OR (Flight.carriercode = 'VN' AND cast(Leg.DateSTA AS DATE) >= '04-JUN-2019')
                OR (Flight.carriercode = '3K' AND cast(Leg.DateSTA AS DATE) >= '11-JUN-2019')
                OR (Flight.carriercode = 'KZ' AND cast(Leg.DateSTA AS DATE) >= '12-JUN-2019')
                OR (Flight.carriercode = 'FX' AND cast(Leg.DateSTA AS DATE) >= '18-JUN-2019')
                OR (Flight.carriercode = 'RU' AND cast(Leg.DateSTA AS DATE) >= '25-JUN-2019')
                OR (Flight.carriercode IN ('TH','N7') AND cast(Leg.DateSTA AS DATE) >= '02-JUL-2019')
                OR (Flight.carriercode = 'LH' AND Cast(Leg.DateSTA AS DATE) >= '11-JUL-2019')
                OR (Flight.carriercode = '8K' AND Cast(Leg.DateSTA AS DATE) >= '16-JUL-2019')
                OR (Flight.carriercode = '3S' AND Cast(Leg.DateSTA AS DATE) >= '19-JUL-2019')
                OR (Flight.carriercode IN ('JQ', 'QF') AND Cast(Leg.DateSTA AS DATE) >= '29-JUL-2019')
                OR (Flight.carriercode = 'PX' AND Cast(Leg.DateSTA AS DATE) >= '27-AUG-2019')
                OR (Flight.FlightKey = 'SQ0278' AND Cast(Leg.DateSTA AS DATE) >= '02-SEP-2019')
                OR (Flight.flightkey = 'MI0921' AND Cast(Leg.DateSTA AS DATE) >= '10-SEP-2019')
                OR (Flight.flightkey = 'SQ0181' AND Cast(Leg.datesta AS DATE) >= '13-SEP-2019')
                OR (Flight.flightkey = 'SQ0655' AND Cast(Leg.datesta AS DATE) >= '17-SEP-2019')
                OR (Flight.flightkey IN ('SQ0479', 'SQ0481') AND Cast(Leg.datesta AS DATE) >= '27-SEP-2019')
                OR (Flight.flightkey IN ('SQ0447', 'SQ7121') AND Cast(Leg.datesta AS DATE) >= '01-OCT-2019')
                OR (Flight.flightkey = 'SQ0449' AND Cast(Leg.datesta AS DATE) >= '02-OCT-2019')
                OR (Flight.flightkey = 'TR0531' AND Cast(Leg.datesta AS DATE) >= '03-OCT-2019')
                OR (Flight.flightkey IN ('SQ0278', 'SQ4282', 'SQ4284', 'SQ0286', 'SQ7297', 'SQ7289'
                           , 'SQ7293', 'SQ0266', 'SQ0246', 'SQ0256', 'SQ0236', 'SQ0298', 'SQ0208', 'SQ0218'
                           , 'SQ7285', 'SQ0238', 'SQ0228', 'SQ0248', 'TR0025', 'TR0019', 'SQ0216', 'SQ0224'
                           , 'SQ0226', 'SQ0214', 'TR0017', 'TR0009', 'SQ0242', 'SQ7127', 'SQ0288', 'SQ0212'
                           , 'SQ0232', 'SQ7295', 'SQ0222', 'TR0013', 'TR0003') AND Cast(Leg.datesta AS DATE) >= '08-OCT-2019')
                OR (Flight.flightkey IN ('MI0804', 'MI0812', 'MI0814', 'TR0007') AND Cast(Leg.datesta AS DATE) >= '15-OCT-2019')
                OR (Flight.flightkey IN ('MI0319', 'MI0321', 'MI0323', 'MI0325', 'MI0327', 'MI0339'
                           , 'MI0341', 'SQ0107', 'SQ0117', 'SQ0119', 'SQ3338', 'SQ3342', 'TR0453', 'TR0457'
                           , 'TR0465', 'TR0467', 'TR0469') AND Cast(Leg.datesta AS DATE) >= '30-OCT-2019')
                OR (Flight.flightkey IN ('SQ0915', 'SQ0917') AND Cast(Leg.datesta AS DATE) >= '06-NOV-2019')
                OR (Flight.flightkey IN ('SQ0921', 'SQ0919', 'TR0393', 'TR0391') AND Cast(Leg.datesta AS DATE) >= '07-NOV-2019')
                OR (Flight.FlightKey = 'SQ0021' AND Cast(Leg.datesta AS DATE) >= '29-NOV-2019')
                OR (Cast(Leg.datesta AS DATE) >= '01NOV2019'))
       )
, FFM AS (
       SELECT Flt.CarrierCode
              ,Flt.FlightKey
              ,cast(Flt.dateSta AS DATE) DateSta
              ,Sm.shipmentnumber as shipmentNumber
              ,'''' + Substring(Sm.shipmentnumber, 1, 3) AwbPrefix
              ,'''' + Substring(Sm.shipmentnumber, 4, 8) AwbNumber
              ,datepart(yyyy, Getdate() - 1) YearOfReport
              ,datepart(mm, Getdate() - 1) MonthOfReport
              ,isnull(FFMInfo.FlightBoardPoint, Flt.FlightBoardPoint) FlightBoardPoint
              ,abs(datediff(hour, Isnull(FFMInfo.MessageProcessedDate, getdate()), 
                       convert(DATETIME, SWITCHOFFSET(convert(DATETIMEOFFSET, Flt.DateSta), (
                           SELECT current_utc_offset FROM sys.time_zone_info WHERE name = 'UTC')
               ))
                     )) AS DifferenceInHours
              ,CASE 
                     WHEN FFMInfo.ProcessedBy = 'I'
                           THEN 'FFM RECEIVED THROUGH CARGO IMP'
                     WHEN FFMInfo.ProcessedBy = 'E'
                           THEN 'FFM NOT CARGO IMP'
                     ELSE 'FFM NOT RECEIVE WITHIN 24HOURS'
                     END Remarks
                       ,FFMInfo.NilCargo
       FROM Shipment_Master Sm
       INNER JOIN Imp_ShipmentVerification ShpVer ON Sm.ShipmentId = ShpVer.ShipmentId
       INNER JOIN Flight Flt ON ShpVer.FlightId = Flt.FlightId
       LEFT JOIN (
              SELECT FFMFlt.FlightId
                     ,FFMShp.AwbNumber
                     ,FFMShp.AwbDate
                     ,OprSeg.FlightBoardPoint
                     ,CASE 
                           WHEN FFMSeg.CreatedUserCode <> 'MANUAL'
                                  THEN 'I'
                           ELSE 'E'
                           END ProcessedBy
                     ,max(FFMSeg.MessageProcessedDate) AS MessageProcessedDate
                                  ,FFMSeg.NilCargo
              FROM Imp_FreightFlightManifestByFlight FFMFlt
              INNER JOIN Imp_FreightFlightManifestBySegment FFMSeg ON FFMFlt.ImpFreightFlightManifestByFlightId = FFMSeg.ImpFreightFlightManifestByFlightId
              INNER JOIN Imp_FreightFlightManifestULD FFMUld ON FFMSeg.ImpFreightFlightManifestBySegmentId = FFMUld.ImpFreightFlightManifestBySegmentId
              INNER JOIN Imp_FreightFlightManifestByShipment FFMShp ON FFMUld.ImpFreightFlightManifestULDId = FFMShp.ImpFreightFlightManifestULDId
              INNER JOIN Flt_OperativeFlight_Segments OprSeg ON FFMSeg.FlightSegmentId = OprSeg.FlightSegmentId
              WHERE FFMSeg.MessageStatus = 'PROCESSED'
              GROUP BY FFMFlt.FlightId
                     ,FFMShp.AwbNumber
                     ,FFMShp.AwbDate
                     ,OprSeg.FlightBoardPoint
                     ,FFMSeg.CreatedUserCode
                                  ,FFMSeg.NilCargo
              ) FFMInfo ON ShpVer.FlightId = FFMInfo.FlightId
              AND Sm.ShipmentNumber = FFMInfo.AwbNumber
              AND cast(Sm.ShipmentDate AS DATE) = cast(FFMInfo.AwbDate AS DATE)
       WHERE Sm.ShipmentType = 'AWB'

UNION

              SELECT Flt.CarrierCode
              ,Flt.FlightKey
              ,cast(Flt.dateSta AS DATE) DateSta
              ,null shipmentNumber
              ,null AwbPrefix
             ,null AwbNumber
              ,datepart(yyyy, Getdate() - 1) YearOfReport
              ,datepart(mm, Getdate() - 1) MonthOfReport
              ,Flt.FlightBoardPoint
              ,null DifferenceInHours
              ,CASE 
                     WHEN Imp_FreightFlightManifestBySegment.CreatedUserCode <> 'MANUAL'
                           THEN 'FFM RECEIVED THROUGH CARGO IMP'
                     ELSE 'FFM NOT CARGO IMP'
                     END Remarks
                       ,Imp_FreightFlightManifestBySegment.NilCargo
FROM
       Imp_FreightFlightManifestByFlight
       inner join Imp_FreightFlightManifestBySegment 
              on Imp_FreightFlightManifestByFlight.ImpFreightFlightManifestByFlightId = Imp_FreightFlightManifestBySegment.ImpFreightFlightManifestByFlightId
       inner join Flight Flt
              on Imp_FreightFlightManifestByFlight.FlightId = Flt.FlightId
where Imp_FreightFlightManifestBySegment.NilCargo = 1
       )
SELECT distinct
FlightKey, DateSta, count(AwbPrefix)AwbCount, --AwbNumber, 
		Count(1)Over(Partition By FlightKey, dateSta) Shipment_Count, 
		YearOfReport, MonthOfReport, FlightBoardPoint, 
		DifferenceInHours, Remarks,
		-- case when Count(1)Over(Partition By FlightKey, dateSta)>5 then Count(1)Over(Partition By FlightKey, dateSta)*2 else '10' end FlightCharge,
		--case when Count(AwbPrefix)>5 then count(AwbPrefix)*2 else '10' end AmountToCharge
case when Count(AwbPrefix)>(FFMChargeConfig.GroupMinCharge/2) then count(AwbPrefix)*FFMChargeConfig.Rate else FFMChargeConfig.GroupMinCharge end AmountToCharge
FROM Ffm
inner join Billing_AirlineChargeCode FFMChargeConfig
on Ffm.CarrierCode = FFMChargeConfig.CarrierCode  and AirlineChargeCode = 'FFM CHARGE'
 WHERE (Quantity1ChargeableMin is null or Ffm.DifferenceInHours is null or Ffm.DifferenceInHours > Quantity1ChargeableMin)
And CAST(DateSTA AS DATE) BETWEEN ? AND ?
and (ffm.CarrierCode = ? or isnull(?,'0') = '0')
group by
FFMChargeConfig.Rate,
FFMChargeConfig.GroupMinCharge,
FFM.DateSta,
FFM.FlightKey,
FFM.AwbPrefix,
FFM.AwbNumber,
FFM.YearOfReport,
FFM.MonthOfReport,
FFM.FlightBoardPoint,
FFM.DifferenceInHours,
FFM.Remarks

]]></xml-property>
            <xml-property name="designerValues"><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<model:DesignValues xmlns:design="http://www.eclipse.org/datatools/connectivity/oda/design" xmlns:model="http://www.eclipse.org/birt/report/model/adapter/odaModel">
  <Version>2.0</Version>
  <design:ResultSets derivedMetaData="true">
    <design:resultSetDefinitions>
      <design:resultSetColumns>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>CarrierCode</design:name>
              <design:position>1</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>3</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>NotNullable</design:nullability>
            <design:uiHints>
              <design:displayName>CarrierCode</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>CarrierCode</design:label>
            <design:formattingHints>
              <design:displaySize>3</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>FlightKey</design:name>
              <design:position>2</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>8</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>NotNullable</design:nullability>
            <design:uiHints>
              <design:displayName>FlightKey</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>FlightKey</design:label>
            <design:formattingHints>
              <design:displaySize>8</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>DateSta</design:name>
              <design:position>3</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>91</design:nativeDataTypeCode>
            <design:precision>10</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>DateSta</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>DateSta</design:label>
            <design:formattingHints>
              <design:displaySize>10</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>AwbCount</design:name>
              <design:position>4</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>4</design:nativeDataTypeCode>
            <design:precision>10</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>AwbCount</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>AwbCount</design:label>
            <design:formattingHints>
              <design:displaySize>11</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>Shipment_Count</design:name>
              <design:position>5</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>4</design:nativeDataTypeCode>
            <design:precision>10</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>Shipment_Count</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>Shipment_Count</design:label>
            <design:formattingHints>
              <design:displaySize>11</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>YearOfReport</design:name>
              <design:position>6</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>4</design:nativeDataTypeCode>
            <design:precision>10</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>YearOfReport</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>YearOfReport</design:label>
            <design:formattingHints>
              <design:displaySize>11</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>MonthOfReport</design:name>
              <design:position>7</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>4</design:nativeDataTypeCode>
            <design:precision>10</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>MonthOfReport</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>MonthOfReport</design:label>
            <design:formattingHints>
              <design:displaySize>11</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>FlightBoardPoint</design:name>
              <design:position>8</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>3</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>NotNullable</design:nullability>
            <design:uiHints>
              <design:displayName>FlightBoardPoint</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>FlightBoardPoint</design:label>
            <design:formattingHints>
              <design:displaySize>3</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>DifferenceInHours</design:name>
              <design:position>9</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>4</design:nativeDataTypeCode>
            <design:precision>10</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>DifferenceInHours</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>DifferenceInHours</design:label>
            <design:formattingHints>
              <design:displaySize>11</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>Remarks</design:name>
              <design:position>10</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>30</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>NotNullable</design:nullability>
            <design:uiHints>
              <design:displayName>Remarks</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>Remarks</design:label>
            <design:formattingHints>
              <design:displaySize>30</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>AmountToCharge</design:name>
              <design:position>11</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>4</design:nativeDataTypeCode>
            <design:precision>10</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>AmountToCharge</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>AmountToCharge</design:label>
            <design:formattingHints>
              <design:displaySize>11</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
      </design:resultSetColumns>
      <design:criteria/>
    </design:resultSetDefinitions>
  </design:ResultSets>
</model:DesignValues>]]></xml-property>
        </oda-data-set>
    </data-sets>
    <styles>
        <style name="report" id="4">
            <property name="fontFamily">sans-serif</property>
            <property name="fontSize">10pt</property>
        </style>
        <style name="crosstab" id="5">
            <property name="borderBottomColor">#CCCCCC</property>
            <property name="borderBottomStyle">solid</property>
            <property name="borderBottomWidth">1pt</property>
            <property name="borderLeftColor">#CCCCCC</property>
            <property name="borderLeftStyle">solid</property>
            <property name="borderLeftWidth">1pt</property>
            <property name="borderRightColor">#CCCCCC</property>
            <property name="borderRightStyle">solid</property>
            <property name="borderRightWidth">1pt</property>
            <property name="borderTopColor">#CCCCCC</property>
            <property name="borderTopStyle">solid</property>
            <property name="borderTopWidth">1pt</property>
        </style>
        <style name="crosstab-cell" id="6">
            <property name="borderBottomColor">#CCCCCC</property>
            <property name="borderBottomStyle">solid</property>
            <property name="borderBottomWidth">1pt</property>
            <property name="borderLeftColor">#CCCCCC</property>
            <property name="borderLeftStyle">solid</property>
            <property name="borderLeftWidth">1pt</property>
            <property name="borderRightColor">#CCCCCC</property>
            <property name="borderRightStyle">solid</property>
            <property name="borderRightWidth">1pt</property>
            <property name="borderTopColor">#CCCCCC</property>
            <property name="borderTopStyle">solid</property>
            <property name="borderTopWidth">1pt</property>
        </style>
    </styles>
    <page-setup>
        <simple-master-page name="Simple MasterPage" id="2">
            <page-header>
                <grid id="18">
                    <property name="fontFamily">"Courier New"</property>
                    <property name="width">7.881944444444445in</property>
                    <column id="19">
                        <property name="width">2.6319444444444446in</property>
                    </column>
                    <column id="20">
                        <property name="width">3.201388888888889in</property>
                    </column>
                    <column id="21">
                        <property name="width">2.048611111111111in</property>
                    </column>
                    <row id="22">
                        <cell id="23"/>
                        <cell id="24"/>
                        <cell id="25">
                            <grid id="34">
                                <property name="width">2.5833333333333335in</property>
                                <column id="35">
                                    <property name="width">1.0902777777777777in</property>
                                </column>
                                <column id="36">
                                    <property name="width">0.18055555555555555in</property>
                                </column>
                                <column id="37">
                                    <property name="width">1.3125in</property>
                                </column>
                                <row id="38">
                                    <cell id="39">
                                        <auto-text id="40">
                                            <property name="textAlign">right</property>
                                            <property name="type">page-number</property>
                                        </auto-text>
                                    </cell>
                                    <cell id="41">
                                        <text id="42">
                                            <property name="contentType">plain</property>
                                            <text-property name="content"><![CDATA[/]]></text-property>
                                        </text>
                                    </cell>
                                    <cell id="43">
                                        <auto-text id="44">
                                            <property name="type">total-page</property>
                                        </auto-text>
                                    </cell>
                                </row>
                            </grid>
                        </cell>
                    </row>
                </grid>
            </page-header>
        </simple-master-page>
    </page-setup>
    <body>
        <grid id="45">
            <column id="46"/>
            <row id="47">
                <cell id="48">
                    <label id="53">
                        <property name="eventHandlerClass">com.ngen.cosys.report.event.LabelEventHandler</property>
                        <property name="fontFamily">"Courier New"</property>
                        <property name="textAlign">center</property>
                        <text-property name="text">billing.ffm.charge.report</text-property>
                    </label>
                </cell>
            </row>
            <row id="202">
                <cell id="203">
                    <text-data id="204">
                        <property name="fontFamily">"Courier New"</property>
                        <property name="textAlign">center</property>
                        <expression name="valueExpr">'From Date :'+params["tenantFromDate"].value +" "+'To Date:'+params["tenantToDate"].value</expression>
                        <property name="contentType">html</property>
                    </text-data>
                </cell>
            </row>
            <row id="49">
                <cell id="50">
                    <grid id="160">
                        <property name="fontFamily">"Courier New"</property>
                        <property name="dataSet">getdatetime</property>
                        <list-property name="boundDataColumns">
                            <structure>
                                <property name="name">datetime</property>
                                <text-property name="displayName">datetime</text-property>
                                <expression name="expression" type="javascript">dataSetRow["datetime"]</expression>
                                <property name="dataType">string</property>
                            </structure>
                        </list-property>
                        <column id="161"/>
                        <row id="162">
                            <cell id="163">
                                <text-data id="164">
                                    <property name="textAlign">center</property>
                                    <expression name="valueExpr">row["datetime"]+" "+" "+params["Loginuser"].value</expression>
                                    <property name="contentType">html</property>
                                </text-data>
                            </cell>
                        </row>
                    </grid>
                </cell>
            </row>
            <row id="51">
                <cell id="52">
                    <label id="54">
                        <property name="eventHandlerClass">com.ngen.cosys.report.event.LabelEventHandler</property>
                        <property name="fontFamily">"Courier New"</property>
                        <property name="textAlign">center</property>
                        <text-property name="text">billing.sats.airport.service</text-property>
                    </label>
                </cell>
            </row>
        </grid>
        <grid id="67">
            <property name="fontFamily">"Courier New"</property>
            <property name="width">7.916666666666667in</property>
            <column id="68">
                <property name="width">0.7361111111111112in</property>
            </column>
            <column id="69">
                <property name="width">1.4513888888888888in</property>
            </column>
            <column id="70">
                <property name="width">1.5069444444444444in</property>
            </column>
            <column id="170">
                <property name="width">4.222222222222222in</property>
            </column>
            <row id="71">
                <cell id="72">
                    <label id="75">
                        <property name="eventHandlerClass">com.ngen.cosys.report.event.LabelEventHandler</property>
                        <text-property name="text">export.sno</text-property>
                    </label>
                </cell>
                <cell id="73">
                    <label id="76">
                        <property name="eventHandlerClass">com.ngen.cosys.report.event.LabelEventHandler</property>
                        <text-property name="text">val.awb.number</text-property>
                    </label>
                </cell>
                <cell id="74">
                    <label id="77">
                        <property name="eventHandlerClass">com.ngen.cosys.report.event.LabelEventHandler</property>
                        <text-property name="text">billing.ffm.creation.charge</text-property>
                    </label>
                </cell>
                <cell id="168">
                    <label id="171">
                        <property name="eventHandlerClass">com.ngen.cosys.report.event.LabelEventHandler</property>
                        <text-property name="text">g.remarks</text-property>
                    </label>
                </cell>
            </row>
        </grid>
        <table id="84">
            <property name="fontFamily">"Courier New"</property>
            <property name="width">7.951388888888889in</property>
            <property name="dataSet">Query</property>
            <list-property name="boundDataColumns">
                <structure>
                    <property name="name">CarrierCode</property>
                    <text-property name="displayName">CarrierCode</text-property>
                    <expression name="expression" type="javascript">dataSetRow["CarrierCode"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">FlightKey</property>
                    <text-property name="displayName">FlightKey</text-property>
                    <expression name="expression" type="javascript">dataSetRow["FlightKey"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">DateSta</property>
                    <text-property name="displayName">DateSta</text-property>
                    <expression name="expression" type="javascript">dataSetRow["DateSta"]</expression>
                    <property name="dataType">date</property>
                </structure>
                <structure>
                    <property name="name">shipmentNumber</property>
                    <text-property name="displayName">shipmentNumber</text-property>
                    <expression name="expression" type="javascript">dataSetRow["shipmentNumber"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">AwbPrefix</property>
                    <text-property name="displayName">AwbPrefix</text-property>
                    <expression name="expression" type="javascript">dataSetRow["AwbPrefix"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">AwbNumber</property>
                    <text-property name="displayName">AwbNumber</text-property>
                    <expression name="expression" type="javascript">dataSetRow["AwbNumber"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">YearOfReport</property>
                    <text-property name="displayName">YearOfReport</text-property>
                    <expression name="expression" type="javascript">dataSetRow["YearOfReport"]</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">MonthOfReport</property>
                    <text-property name="displayName">MonthOfReport</text-property>
                    <expression name="expression" type="javascript">dataSetRow["MonthOfReport"]</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">FlightBoardPoint</property>
                    <text-property name="displayName">FlightBoardPoint</text-property>
                    <expression name="expression" type="javascript">dataSetRow["FlightBoardPoint"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">DifferenceInHours</property>
                    <text-property name="displayName">DifferenceInHours</text-property>
                    <expression name="expression" type="javascript">dataSetRow["DifferenceInHours"]</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">Remarks</property>
                    <text-property name="displayName">Remarks</text-property>
                    <expression name="expression" type="javascript">dataSetRow["Remarks"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">NilCargo</property>
                    <text-property name="displayName">NilCargo</text-property>
                    <expression name="expression" type="javascript">dataSetRow["NilCargo"]</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">FFMChargevalue</property>
                    <text-property name="displayName">FFMChargevalue</text-property>
                    <expression name="expression" type="javascript">dataSetRow["FFMChargevalue"]</expression>
                    <property name="dataType">decimal</property>
                </structure>
                <structure>
                    <property name="name">GroupMinCharge</property>
                    <text-property name="displayName">GroupMinCharge</text-property>
                    <expression name="expression" type="javascript">dataSetRow["GroupMinCharge"]</expression>
                    <property name="dataType">decimal</property>
                </structure>
                <structure>
                    <property name="name">GroupMaxCharge</property>
                    <text-property name="displayName">GroupMaxCharge</text-property>
                    <expression name="expression" type="javascript">dataSetRow["GroupMaxCharge"]</expression>
                    <property name="dataType">decimal</property>
                </structure>
                <structure>
                    <property name="name">Aggregation</property>
                    <property name="dataType">integer</property>
                    <simple-property-list name="aggregateOn">
                        <value>NewTableGroup1</value>
                    </simple-property-list>
                    <property name="aggregateFunction">RUNNINGCOUNT</property>
                    <list-property name="arguments">
                        <structure>
                            <property name="name">Expression</property>
                        </structure>
                    </list-property>
                    <property name="allowExport">true</property>
                </structure>
                <structure>
                    <property name="name">Aggregation_1</property>
                    <property name="dataType">float</property>
                    <simple-property-list name="aggregateOn">
                        <value>NewTableGroup1</value>
                    </simple-property-list>
                    <property name="aggregateFunction">SUM</property>
                    <list-property name="arguments">
                        <structure>
                            <property name="name">Expression</property>
                            <expression name="value" type="javascript">row["FFMChargevalue"]</expression>
                        </structure>
                    </list-property>
                    <property name="allowExport">true</property>
                </structure>
            </list-property>
            <property name="repeatHeader">false</property>
            <column id="97">
                <property name="width">0.7222222222222222in</property>
            </column>
            <column id="98">
                <property name="width">1.4930555555555556in</property>
            </column>
            <column id="99">
                <property name="width">1.5in</property>
            </column>
            <column id="103">
                <property name="width">4.236111111111111in</property>
            </column>
            <header>
                <row id="206">
                    <property name="textAlign">left</property>
                    <cell id="207">
                        <property name="colSpan">4</property>
                        <property name="rowSpan">1</property>
                        <text-data id="213">
                            <expression name="valueExpr">if(params["carrierflag"].value == 1)&#13;
{&#13;
'Carrier :' +row["CarrierCode"]&#13;
}&#13;
else&#13;
{''}</expression>
                            <property name="contentType">html</property>
                        </text-data>
                    </cell>
                </row>
            </header>
            <group id="136">
                <property name="groupName">NewTableGroup2</property>
                <expression name="keyExpr" type="javascript">row["FlightKey"]+row["DateSta"]</expression>
                <property name="repeatHeader">false</property>
                <property name="hideDetail">false</property>
                <list-property name="sort">
                    <structure>
                        <expression name="key" type="javascript">row["DateSta"]</expression>
                        <property name="direction">asc</property>
                        <property name="strength">-1</property>
                    </structure>
                </list-property>
                <header>
                    <row id="137">
                        <cell id="138">
                            <property name="colSpan">4</property>
                            <property name="rowSpan">1</property>
                            <text-data id="147">
                                <property name="eventHandlerClass">com.ngen.cosys.report.event.DateTimeDataItemEventHandler</property>
                                <property name="fontWeight">bold</property>
                                <expression name="valueExpr">row["FlightKey"]+" "+" "+" "+row["DateSta"]</expression>
                                <property name="contentType">html</property>
                            </text-data>
                        </cell>
                    </row>
                </header>
                <footer>
                    <row id="142">
                        <cell id="143"/>
                        <cell id="144"/>
                        <cell id="145"/>
                        <cell id="146"/>
                    </row>
                </footer>
            </group>
            <group id="124">
                <property name="groupName">NewTableGroup1</property>
                <expression name="keyExpr" type="javascript">row["FlightBoardPoint"]</expression>
                <structure name="toc">
                    <expression name="expressionValue" type="javascript">row["FlightBoardPoint"]</expression>
                </structure>
                <property name="repeatHeader">false</property>
                <property name="hideDetail">false</property>
                <header>
                    <row id="125">
                        <cell id="126">
                            <property name="colSpan">4</property>
                            <property name="rowSpan">1</property>
                            <text-data id="135">
                                <property name="fontWeight">normal</property>
                                <expression name="valueExpr">'Segment:'+" "+"  "+"   "+row["FlightBoardPoint"]</expression>
                                <property name="contentType">html</property>
                            </text-data>
                        </cell>
                    </row>
                </header>
                <footer>
                    <row id="130">
                        <cell id="131"/>
                        <cell id="132">
                            <label id="185">
                                <property name="eventHandlerClass">com.ngen.cosys.report.event.LabelEventHandler</property>
                                <text-property name="text">export.sub.total</text-property>
                            </label>
                            <data id="217">
                                <list-property name="visibility">
                                    <structure>
                                        <property name="format">all</property>
                                        <expression name="valueExpr" type="javascript">true</expression>
                                    </structure>
                                </list-property>
                                <property name="resultSetColumn">Aggregation_1</property>
                            </data>
                        </cell>
                        <cell id="133">
                            <text-data id="218">
                                <method name="onCreate"><![CDATA[vars["Totalvalue"]=this.getValue();]]></method>
                                <expression name="valueExpr">if(row["Aggregation_1"] &lt;=row["GroupMinCharge"])&#13;
{&#13;
row["GroupMinCharge"]+'.00'&#13;
}&#13;
else&#13;
if(row["Aggregation_1"] >= row["GroupMaxCharge"])&#13;
{&#13;
row["GroupMaxCharge"]+'.00'&#13;
}&#13;
else&#13;
{row["Aggregation_1"]+'.00'}</expression>
                                <property name="contentType">html</property>
                            </text-data>
                        </cell>
                        <cell id="134">
                            <text-data id="219">
                                <expression name="valueExpr">if(row["Aggregation_1"]&lt;= row["GroupMinCharge"])&#13;
{&#13;
'MINIMUM'&#13;
}&#13;
else&#13;
if(row["Aggregation_1"] >= row["GroupMaxCharge"] )&#13;
{'MAXIMUM'}&#13;
else&#13;
{''}</expression>
                                <property name="contentType">html</property>
                            </text-data>
                        </cell>
                    </row>
                </footer>
            </group>
            <detail>
                <row id="89">
                    <cell id="90">
                        <data id="216">
                            <property name="resultSetColumn">Aggregation</property>
                        </data>
                    </cell>
                    <cell id="91">
                        <data id="122">
                            <property name="resultSetColumn">shipmentNumber</property>
                        </data>
                    </cell>
                    <cell id="92">
                        <data id="214">
                            <structure name="numberFormat">
                                <property name="category">Currency</property>
                                <property name="pattern">###0.00{RoundingMode=HALF_UP}</property>
                            </structure>
                            <property name="resultSetColumn">FFMChargevalue</property>
                        </data>
                    </cell>
                    <cell id="101">
                        <data id="121">
                            <property name="resultSetColumn">Remarks</property>
                        </data>
                    </cell>
                </row>
            </detail>
            <footer>
                <row id="174">
                    <property name="height">0.71875in</property>
                    <cell id="175">
                        <property name="colSpan">4</property>
                        <property name="rowSpan">1</property>
                        <grid id="186">
                            <property name="width">7.902777777777778in</property>
                            <property name="dataSet">Sumamount</property>
                            <list-property name="boundDataColumns">
                                <structure>
                                    <property name="name">AmountToCharge</property>
                                    <text-property name="displayName">AmountToCharge</text-property>
                                    <expression name="expression" type="javascript">dataSetRow["AmountToCharge"]</expression>
                                    <property name="dataType">decimal</property>
                                </structure>
                                <structure>
                                    <property name="name">Aggregation</property>
                                    <property name="dataType">float</property>
                                    <property name="aggregateFunction">SUM</property>
                                    <list-property name="arguments">
                                        <structure>
                                            <property name="name">Expression</property>
                                            <expression name="value" type="javascript">row["AmountToCharge"]</expression>
                                        </structure>
                                    </list-property>
                                    <property name="allowExport">true</property>
                                </structure>
                                <structure>
                                    <property name="name">FlightKey</property>
                                    <text-property name="displayName">FlightKey</text-property>
                                    <expression name="expression" type="javascript">dataSetRow["FlightKey"]</expression>
                                    <property name="dataType">string</property>
                                </structure>
                                <structure>
                                    <property name="name">DateSta</property>
                                    <text-property name="displayName">DateSta</text-property>
                                    <expression name="expression" type="javascript">dataSetRow["DateSta"]</expression>
                                    <property name="dataType">date</property>
                                </structure>
                                <structure>
                                    <property name="name">AwbCount</property>
                                    <text-property name="displayName">AwbCount</text-property>
                                    <expression name="expression" type="javascript">dataSetRow["AwbCount"]</expression>
                                    <property name="dataType">integer</property>
                                </structure>
                                <structure>
                                    <property name="name">Shipment_Count</property>
                                    <text-property name="displayName">Shipment_Count</text-property>
                                    <expression name="expression" type="javascript">dataSetRow["Shipment_Count"]</expression>
                                    <property name="dataType">integer</property>
                                </structure>
                                <structure>
                                    <property name="name">YearOfReport</property>
                                    <text-property name="displayName">YearOfReport</text-property>
                                    <expression name="expression" type="javascript">dataSetRow["YearOfReport"]</expression>
                                    <property name="dataType">integer</property>
                                </structure>
                                <structure>
                                    <property name="name">MonthOfReport</property>
                                    <text-property name="displayName">MonthOfReport</text-property>
                                    <expression name="expression" type="javascript">dataSetRow["MonthOfReport"]</expression>
                                    <property name="dataType">integer</property>
                                </structure>
                                <structure>
                                    <property name="name">FlightBoardPoint</property>
                                    <text-property name="displayName">FlightBoardPoint</text-property>
                                    <expression name="expression" type="javascript">dataSetRow["FlightBoardPoint"]</expression>
                                    <property name="dataType">string</property>
                                </structure>
                                <structure>
                                    <property name="name">DifferenceInHours</property>
                                    <text-property name="displayName">DifferenceInHours</text-property>
                                    <expression name="expression" type="javascript">dataSetRow["DifferenceInHours"]</expression>
                                    <property name="dataType">integer</property>
                                </structure>
                                <structure>
                                    <property name="name">Remarks</property>
                                    <text-property name="displayName">Remarks</text-property>
                                    <expression name="expression" type="javascript">dataSetRow["Remarks"]</expression>
                                    <property name="dataType">string</property>
                                </structure>
                                <structure>
                                    <property name="name">Aggregation_1</property>
                                    <property name="dataType">float</property>
                                    <property name="aggregateFunction">SUM</property>
                                    <list-property name="arguments">
                                        <structure>
                                            <property name="name">Expression</property>
                                            <expression name="value" type="javascript">row["AmountToCharge"]</expression>
                                        </structure>
                                    </list-property>
                                    <property name="allowExport">true</property>
                                </structure>
                            </list-property>
                            <column id="187">
                                <property name="width">0.6875in</property>
                            </column>
                            <column id="188">
                                <property name="width">1.4722222222222223in</property>
                            </column>
                            <column id="189">
                                <property name="width">5.743055555555555in</property>
                            </column>
                            <row id="190">
                                <cell id="191"/>
                                <cell id="192">
                                    <label id="194">
                                        <property name="eventHandlerClass">com.ngen.cosys.report.event.LabelEventHandler</property>
                                        <text-property name="text">export.grand.total.caps</text-property>
                                    </label>
                                </cell>
                                <cell id="193">
                                    <data id="231">
                                        <structure name="numberFormat">
                                            <property name="category">Currency</property>
                                            <property name="pattern">###0.00{RoundingMode=HALF_UP}</property>
                                        </structure>
                                        <property name="resultSetColumn">Aggregation_1</property>
                                    </data>
                                </cell>
                            </row>
                        </grid>
                    </cell>
                </row>
            </footer>
        </table>
    </body>
</report>
